{"name":"337","type":"graph","parameters":{},"node_position":{"x":0,"y":0},"seed":0,"seed_locked":false,"label":"Graph","shortdesc":"","longdesc":"","nodes":[{"name":"Material","type":"material_tesselated","parameters":{"albedo_color":{"type":"Color","r":1,"g":1,"b":1,"a":1},"metallic":0,"roughness":1,"emission_energy":1,"normal":1,"ao":1,"depth_scale":1,"flags_transparent":true,"sss":1,"size":11},"node_position":{"x":10450.09375,"y":39.444283},"seed":0,"seed_locked":false,"export_paths":{}},{"name":"blend","type":"blend","parameters":{"blend_type":2,"amount":1},"node_position":{"x":-2562.796143,"y":-3.088012},"seed":0,"seed_locked":false},{"name":"bricks_uneven4","type":"bricks_uneven4","parameters":{"x":8,"y":8,"randomness":0.75,"mortar":0,"bevel":0.8,"round":0.28,"corner":0.3},"node_position":{"x":-3808.503174,"y":89.951805},"seed":0.056575,"seed_locked":false},{"name":"fill_to_random_color","type":"fill_to_random_color2","parameters":{"edgecolor":{"type":"Color","r":1,"g":1,"b":1,"a":1}},"node_position":{"x":-2832.085938,"y":762.650757},"seed":0,"seed_locked":false},{"name":"fill_to_gradient","type":"fill_to_gradient2","parameters":{"grad":{"type":"Gradient","points":[{"pos":0,"r":0.628906,"g":0.628906,"b":0.628906,"a":1},{"pos":0.175558,"r":1,"g":1,"b":1,"a":1}],"interpolation":1},"mode":0,"layers":46,"rotate":0,"r_rotate":180,"r_offset":0.61},"node_position":{"x":-2840.926514,"y":111.309814},"seed":0,"seed_locked":false},{"name":"fill_to_gradient_2","type":"fill_to_gradient2","parameters":{"grad":{"type":"Gradient","points":[{"pos":0,"r":0.878906,"g":0.878906,"b":0.878906,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":1},"mode":0,"layers":2,"rotate":0,"r_rotate":180,"r_offset":0},"node_position":{"x":-2840.141357,"y":344.394745},"seed":0.093579,"seed_locked":false},{"name":"blend_2","type":"blend","parameters":{"blend_type":10,"amount":1},"node_position":{"x":-2281.837158,"y":153.424072},"seed":0,"seed_locked":false},{"name":"tones","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":1,"g":1,"b":1,"a":1},"out_min":{"type":"Color","r":0.687211,"g":0.687211,"b":0.687211,"a":0},"out_max":{"type":"Color","r":1,"g":1,"b":1,"a":1}},"node_position":{"x":-2837.058594,"y":-77.016846},"seed":0,"seed_locked":false},{"name":"blend_4","type":"blend","parameters":{"blend_type":11,"amount":1},"node_position":{"x":517.26416,"y":163.497101},"seed":0,"seed_locked":false},{"name":"fill_to_gradient_3","type":"fill_to_gradient2","parameters":{"grad":{"type":"Gradient","points":[{"pos":0,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":1},"mode":0,"layers":1,"rotate":0,"r_rotate":180,"r_offset":0},"node_position":{"x":734.523438,"y":-278.303467},"seed":0.121986,"seed_locked":false},{"name":"blend_3","type":"blend","parameters":{"blend_type":2,"amount":0.25},"node_position":{"x":1170.773315,"y":145.911224},"seed":0,"seed_locked":false},{"name":"decompose","type":"decompose","parameters":{},"node_position":{"x":-1279.880615,"y":799.859863},"seed":0,"seed_locked":false},{"name":"blend_5","type":"blend","parameters":{"blend_type":2,"amount":0.3},"node_position":{"x":2137.135498,"y":136.88623},"seed":0,"seed_locked":false},{"name":"blend_7","type":"blend","parameters":{"blend_type":11,"amount":1},"node_position":{"x":1645.546753,"y":140.363708},"seed":0,"seed_locked":false},{"name":"fbm2","type":"fbm2","parameters":{"noise":1,"scale_x":2,"scale_y":2,"folds":0,"iterations":3,"persistence":0.5,"offset":0},"node_position":{"x":-2299.506592,"y":302.708771},"seed":0,"seed_locked":false},{"name":"multi_warp","type":"multi_warp","parameters":{"param0":11,"param1":1.398,"param2":15,"param3":0},"node_position":{"x":-2023.786377,"y":165.788712},"seed":0,"seed_locked":false},{"name":"uniform_greyscale","type":"morphology2","parameters":{"operation":0,"resolution":12,"distance":0.006},"node_position":{"x":2466.499268,"y":136.012924},"seed":0,"seed_locked":false},{"name":"tiler","type":"tiler","parameters":{"tx":8,"ty":8,"overlap":2,"inputs":0,"scale_x":0.008,"scale_y":0.01,"fixed_offset":0,"offset":1,"rotate":322.5,"scale":0.53,"value":1,"variations":false},"node_position":{"x":3195.203857,"y":-438.794861},"seed":0,"seed_locked":false},{"name":"auto_tones","type":"auto_tones","parameters":{"param0":11},"node_position":{"x":818.864258,"y":164.795532},"seed":0,"seed_locked":false},{"name":"warp","type":"warp","parameters":{"mode":0,"amount":0.02,"eps":0.1},"node_position":{"x":2931.180664,"y":130.796936},"seed":0,"seed_locked":false},{"name":"crystal","type":"crystal","parameters":{"param0":4,"param1":4},"node_position":{"x":2681.925537,"y":269.203613},"seed":0.832073,"seed_locked":false},{"name":"tones_5","type":"tones","parameters":{"in_min":{"type":"Color","r":0.099826,"g":0.099826,"b":0.099826,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":0.947917,"g":0.947917,"b":0.947917,"a":1},"out_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"out_max":{"type":"Color","r":1,"g":1,"b":1,"a":1}},"node_position":{"x":-4107.966309,"y":366.661377},"seed":0,"seed_locked":false},{"name":"shape_2","type":"shape","parameters":{"shape":0,"sides":6,"radius":0.85,"edge":1},"node_position":{"x":2706.932129,"y":-417.24527},"seed":0,"seed_locked":false},{"name":"math","type":"math","parameters":{"op":20,"default_in1":0,"default_in2":0,"clamp":false},"node_position":{"x":2903.272705,"y":-416.238586},"seed":0,"seed_locked":false},{"name":"blend_9","type":"blend","parameters":{"blend_type":11,"amount":0.05},"node_position":{"x":3508.107666,"y":113.838562},"seed":0,"seed_locked":false},{"name":"tonality","type":"tonality","parameters":{"curve":{"type":"Curve","points":[{"x":0,"y":0,"ls":0,"rs":3.094732},{"x":0.262114,"y":0.817438,"ls":2.34362,"rs":0.428147},{"x":1,"y":1,"ls":0.246018,"rs":-0}]}},"node_position":{"x":-3005.593018,"y":-71.784111},"seed":0,"seed_locked":false},{"name":"buffer_2","type":"buffer","parameters":{"size":11},"node_position":{"x":4941.421387,"y":86.352226},"seed":0,"seed_locked":false,"version":1},{"name":"graph_2","type":"graph","parameters":{"param0":0.8,"param4":17,"param5":0.5,"param2":9,"param6":3,"param1":0.43,"param3":0.83},"node_position":{"x":5426.789551,"y":-2902.245605},"seed":0,"seed_locked":false,"label":"Plain Grunge","shortdesc":"","longdesc":"","nodes":[{"name":"791_3","type":"shader","parameters":{"blend_type":8,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":-0.5,"warp_y":-0.5,"warp_strength":0.8},"node_position":{"x":-300,"y":80},"seed":-30724,"seed_locked":false,"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-1200,"y":-200},"seed":57736,"seed_locked":false,"preview":0,"minimized":true},{"name":"fbm","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":9,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-1200,"y":0},"seed":-57680,"seed_locked":false,"preview":0,"minimized":true},{"name":"graph_2","type":"graph","parameters":{"param0":1,"param1":9,"param2":3,"param3":0,"param4":17,"param5":0.5},"node_position":{"x":-1200,"y":200},"seed":-57736,"seed_locked":false,"preview":0,"minimized":true,"label":"FBM Vec","shortdesc":"","longdesc":"","nodes":[{"name":"fbm_3","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-495.760742,"y":1025.774536},"seed":-10482,"seed_locked":false},{"name":"fbm_4","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-497.094055,"y":1196.270996},"seed":-28547,"seed_locked":false},{"name":"fbm_5","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-497.094086,"y":1364.103638},"seed":-28283,"seed_locked":false},{"name":"combine","type":"combine","parameters":{},"node_position":{"x":294.405914,"y":1146.736694},"seed":47584,"seed_locked":false},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-971.094116,"y":1119.45166},"seed":-3788,"seed_locked":false,"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":502.405945,"y":1152.739136},"seed":586,"seed_locked":false,"ports":[{"group_size":0,"name":"unnamed","type":"rgb"},{"group_size":0,"name":"unnamed","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":1,"param1":9,"param2":3,"param3":0,"param4":17,"param5":0.5},"node_position":{"x":-863.885681,"y":1508.326782},"seed":-60517,"seed_locked":false,"widgets":[{"label":"Noise","linked_widgets":[{"node":"fbm_3","widget":"noise"},{"node":"fbm_4","widget":"noise"},{"node":"fbm_5","widget":"noise"},{"node":"fbm_2","widget":"noise"}],"name":"param0","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"fbm_3","widget":"scale_x"},{"node":"fbm_4","widget":"scale_x"},{"node":"fbm_5","widget":"scale_x"},{"node":"fbm_2","widget":"scale_x"}],"name":"param1","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_3","widget":"scale_y"},{"node":"fbm_4","widget":"scale_y"},{"node":"fbm_5","widget":"scale_y"},{"node":"fbm_2","widget":"scale_y"}],"name":"param2","type":"linked_control"},{"label":"Folds","linked_widgets":[{"node":"fbm_3","widget":"folds"},{"node":"fbm_4","widget":"folds"},{"node":"fbm_5","widget":"folds"},{"node":"fbm_2","widget":"folds"}],"name":"param3","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_3","widget":"iterations"},{"node":"fbm_4","widget":"iterations"},{"node":"fbm_5","widget":"iterations"},{"node":"fbm_2","widget":"iterations"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_3","widget":"persistence"},{"node":"fbm_4","widget":"persistence"},{"node":"fbm_5","widget":"persistence"},{"node":"fbm_2","widget":"persistence"}],"name":"param5","type":"linked_control"}]},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-495.298431,"y":1543.288208},"seed":-11000,"seed_locked":false},{"name":"combine_2","type":"combine","parameters":{},"node_position":{"x":292.968933,"y":1276.987427},"seed":31648,"seed_locked":false}],"connections":[{"from":"combine","from_port":0,"to":"gen_outputs","to_port":0},{"from":"fbm_5","from_port":0,"to":"combine","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine","to_port":0},{"from":"fbm_2","from_port":0,"to":"combine_2","to_port":3},{"from":"fbm_5","from_port":0,"to":"combine_2","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine_2","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine_2","to_port":0},{"from":"combine_2","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"791_2","type":"shader","parameters":{"blend_type":7,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":0.5,"warp_strength":0.8},"node_position":{"x":-300,"y":-120},"seed":30756,"seed_locked":false,"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"791_4","type":"shader","parameters":{"blend_type":4,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":-0.5,"warp_strength":0.8},"node_position":{"x":460,"y":-40},"seed":-60308,"seed_locked":false,"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n\nfloat $(name_uv)_blend_1 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\nfloat $(name_uv)_blend_2 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgba"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle Extended","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2),  $m_opacity*$(name_uv)_blend_1 )","shortdesc":"Output","type":"rgb"},{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_2),  $in_2($(name_uv)_warp_1),  $m_opacity*$(name_uv)_blend_2 )","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle Extended"}},{"name":"blend","type":"blend","parameters":{"blend_type":7,"amount":1},"node_position":{"x":1000,"y":-40},"seed":-37184,"seed_locked":false},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-1479.069092,"y":-1.328649},"seed":52248,"seed_locked":false,"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":1600,"y":-40},"seed":-33256,"seed_locked":false,"ports":[{"group_size":0,"name":"Heights","type":"f"},{"group_size":0,"name":"Colors","type":"rgb"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":0.8,"param4":17,"param5":0.5,"param2":9,"param6":3,"param1":0.43,"param3":0.83},"node_position":{"x":1605.008667,"y":149.425598},"seed":7630,"seed_locked":false,"widgets":[{"label":"Warp","linked_widgets":[{"node":"791_2","widget":"warp_strength"},{"node":"791_3","widget":"warp_strength"},{"node":"791_4","widget":"warp_strength"},{"node":"791_6","widget":"warp_strength"},{"node":"791_5","widget":"warp_strength"},{"node":"791_7","widget":"warp_strength"}],"name":"param0","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_2","widget":"iterations"},{"node":"fbm","widget":"iterations"},{"node":"graph_2","widget":"param4"},{"node":"graph_3","widget":"param4"},{"node":"graph_4","widget":"param4"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_2","widget":"persistence"},{"node":"fbm","widget":"persistence"},{"node":"graph_2","widget":"param5"},{"node":"graph_3","widget":"param5"},{"node":"graph_4","widget":"param5"}],"name":"param5","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"graph_2","widget":"param1"},{"node":"graph_4","widget":"param1"},{"node":"fbm_2","widget":"scale_x"},{"node":"fbm","widget":"scale_y"},{"node":"graph_3","widget":"param2"}],"name":"param2","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_2","widget":"scale_y"},{"node":"fbm","widget":"scale_x"},{"node":"graph_2","widget":"param2"},{"node":"graph_3","widget":"param1"},{"node":"graph_4","widget":"param2"}],"name":"param6","type":"linked_control"},{"label":"Level","linked_widgets":[{"node":"tones_step","widget":"value"},{"node":"tones_step_2","widget":"value"},{"node":"tones_step_4","widget":"value"},{"node":"tones_step_3","widget":"value"}],"name":"param1","type":"linked_control"},{"label":"Smooth","linked_widgets":[{"node":"tones_step","widget":"width"},{"node":"tones_step_2","widget":"width"},{"node":"tones_step_4","widget":"width"},{"node":"tones_step_3","widget":"width"}],"name":"param3","type":"linked_control"}]},{"name":"graph_3","type":"graph","parameters":{"param0":1,"param1":3,"param2":9,"param3":0,"param4":17,"param5":0.5},"node_position":{"x":-1200,"y":400},"seed":-57568,"seed_locked":false,"preview":0,"minimized":true,"label":"FBM Vec","shortdesc":"","longdesc":"","nodes":[{"name":"fbm_3","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":9,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-495.760742,"y":1025.774536},"seed":-10482,"seed_locked":false},{"name":"fbm_4","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":9,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-497.094055,"y":1196.270996},"seed":-28547,"seed_locked":false},{"name":"fbm_5","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":9,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-497.094086,"y":1364.103638},"seed":-28283,"seed_locked":false},{"name":"combine","type":"combine","parameters":{},"node_position":{"x":294.405914,"y":1146.736694},"seed":47584,"seed_locked":false},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-971.094116,"y":1119.45166},"seed":-3788,"seed_locked":false,"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":502.405945,"y":1152.739136},"seed":586,"seed_locked":false,"ports":[{"group_size":0,"name":"unnamed","type":"rgb"},{"group_size":0,"name":"unnamed","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":1,"param1":3,"param2":9,"param3":0,"param4":17,"param5":0.5},"node_position":{"x":-863.885681,"y":1508.326782},"seed":-60517,"seed_locked":false,"widgets":[{"label":"Noise","linked_widgets":[{"node":"fbm_3","widget":"noise"},{"node":"fbm_4","widget":"noise"},{"node":"fbm_5","widget":"noise"},{"node":"fbm_2","widget":"noise"}],"name":"param0","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"fbm_3","widget":"scale_x"},{"node":"fbm_4","widget":"scale_x"},{"node":"fbm_5","widget":"scale_x"},{"node":"fbm_2","widget":"scale_x"}],"name":"param1","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_3","widget":"scale_y"},{"node":"fbm_4","widget":"scale_y"},{"node":"fbm_5","widget":"scale_y"},{"node":"fbm_2","widget":"scale_y"}],"name":"param2","type":"linked_control"},{"label":"Folds","linked_widgets":[{"node":"fbm_3","widget":"folds"},{"node":"fbm_4","widget":"folds"},{"node":"fbm_5","widget":"folds"},{"node":"fbm_2","widget":"folds"}],"name":"param3","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_3","widget":"iterations"},{"node":"fbm_4","widget":"iterations"},{"node":"fbm_5","widget":"iterations"},{"node":"fbm_2","widget":"iterations"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_3","widget":"persistence"},{"node":"fbm_4","widget":"persistence"},{"node":"fbm_5","widget":"persistence"},{"node":"fbm_2","widget":"persistence"}],"name":"param5","type":"linked_control"}]},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":9,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-495.298431,"y":1543.288208},"seed":-11000,"seed_locked":false},{"name":"combine_2","type":"combine","parameters":{},"node_position":{"x":292.968933,"y":1276.987427},"seed":31648,"seed_locked":false}],"connections":[{"from":"combine","from_port":0,"to":"gen_outputs","to_port":0},{"from":"fbm_5","from_port":0,"to":"combine","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine","to_port":0},{"from":"fbm_2","from_port":0,"to":"combine_2","to_port":3},{"from":"fbm_5","from_port":0,"to":"combine_2","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine_2","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine_2","to_port":0},{"from":"combine_2","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"graph_4","type":"graph","parameters":{"param0":1,"param1":9,"param2":3,"param3":0,"param4":17,"param5":0.5},"node_position":{"x":-1200,"y":600},"seed":-58136,"seed_locked":false,"preview":0,"minimized":true,"label":"FBM Vec","shortdesc":"","longdesc":"","nodes":[{"name":"fbm_3","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-495.760742,"y":1025.774536},"seed":-10482,"seed_locked":false},{"name":"fbm_4","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-497.094055,"y":1196.270996},"seed":-28547,"seed_locked":false},{"name":"fbm_5","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-497.094086,"y":1364.103638},"seed":-28283,"seed_locked":false},{"name":"combine","type":"combine","parameters":{},"node_position":{"x":294.405914,"y":1146.736694},"seed":47584,"seed_locked":false},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-971.094116,"y":1119.45166},"seed":-3788,"seed_locked":false,"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":502.405945,"y":1152.739136},"seed":586,"seed_locked":false,"ports":[{"group_size":0,"name":"unnamed","type":"rgb"},{"group_size":0,"name":"unnamed","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":1,"param1":9,"param2":3,"param3":0,"param4":17,"param5":0.5},"node_position":{"x":-863.885681,"y":1508.326782},"seed":-60517,"seed_locked":false,"widgets":[{"label":"Noise","linked_widgets":[{"node":"fbm_3","widget":"noise"},{"node":"fbm_4","widget":"noise"},{"node":"fbm_5","widget":"noise"},{"node":"fbm_2","widget":"noise"}],"name":"param0","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"fbm_3","widget":"scale_x"},{"node":"fbm_4","widget":"scale_x"},{"node":"fbm_5","widget":"scale_x"},{"node":"fbm_2","widget":"scale_x"}],"name":"param1","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_3","widget":"scale_y"},{"node":"fbm_4","widget":"scale_y"},{"node":"fbm_5","widget":"scale_y"},{"node":"fbm_2","widget":"scale_y"}],"name":"param2","type":"linked_control"},{"label":"Folds","linked_widgets":[{"node":"fbm_3","widget":"folds"},{"node":"fbm_4","widget":"folds"},{"node":"fbm_5","widget":"folds"},{"node":"fbm_2","widget":"folds"}],"name":"param3","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_3","widget":"iterations"},{"node":"fbm_4","widget":"iterations"},{"node":"fbm_5","widget":"iterations"},{"node":"fbm_2","widget":"iterations"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_3","widget":"persistence"},{"node":"fbm_4","widget":"persistence"},{"node":"fbm_5","widget":"persistence"},{"node":"fbm_2","widget":"persistence"}],"name":"param5","type":"linked_control"}]},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":9,"scale_y":3,"folds":0,"iterations":17,"persistence":0.5},"node_position":{"x":-495.298431,"y":1543.288208},"seed":-11000,"seed_locked":false},{"name":"combine_2","type":"combine","parameters":{},"node_position":{"x":292.968933,"y":1276.987427},"seed":31648,"seed_locked":false}],"connections":[{"from":"combine","from_port":0,"to":"gen_outputs","to_port":0},{"from":"fbm_5","from_port":0,"to":"combine","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine","to_port":0},{"from":"fbm_2","from_port":0,"to":"combine_2","to_port":3},{"from":"fbm_5","from_port":0,"to":"combine_2","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine_2","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine_2","to_port":0},{"from":"combine_2","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"791_5","type":"shader","parameters":{"blend_type":7,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":0.5,"warp_strength":0.8},"node_position":{"x":-300,"y":340},"seed":-30984,"seed_locked":false,"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"791_6","type":"shader","parameters":{"blend_type":8,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":-0.5,"warp_y":-0.5,"warp_strength":0.8},"node_position":{"x":-300,"y":560},"seed":-31332,"seed_locked":false,"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"blend_2","type":"blend","parameters":{"blend_type":7,"amount":1},"node_position":{"x":1000,"y":420},"seed":37052,"seed_locked":false},{"name":"791_7","type":"shader","parameters":{"blend_type":4,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":-0.5,"warp_strength":0.8},"node_position":{"x":460,"y":420},"seed":59920,"seed_locked":false,"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n\nfloat $(name_uv)_blend_1 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\nfloat $(name_uv)_blend_2 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgba"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle Extended","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2),  $m_opacity*$(name_uv)_blend_1 )","shortdesc":"Output","type":"rgb"},{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_2),  $in_2($(name_uv)_warp_1),  $m_opacity*$(name_uv)_blend_2 )","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle Extended"}},{"name":"comment","type":"comment","parameters":{},"node_position":{"x":-1320,"y":-240},"seed":30520,"seed_locked":false,"title":"Noises","color":{"type":"Color","r":1,"g":0.5,"b":0,"a":1},"text":"","size":{"x":368.727295,"y":1045.166504}},{"name":"comment_2","type":"comment","parameters":{},"node_position":{"x":-340,"y":-240},"seed":21956,"seed_locked":false,"title":"Warp Layer 1","color":{"type":"Color","r":1,"g":0.5,"b":0,"a":1},"text":"","size":{"x":341.228088,"y":1036.673462}},{"name":"comment_3","type":"comment","parameters":{},"node_position":{"x":420,"y":-240},"seed":-3636,"seed_locked":false,"title":"Warp Layer 2","color":{"type":"Color","r":1,"g":0.5,"b":0,"a":1},"text":"","size":{"x":334.144196,"y":1038.109619}},{"name":"tones_step","type":"tones_step","parameters":{"value":0.43,"width":0.83,"invert":false},"node_position":{"x":1000,"y":100},"seed":37244,"seed_locked":false},{"name":"tones_step_2","type":"tones_step","parameters":{"value":0.43,"width":0.83,"invert":false},"node_position":{"x":1000,"y":560},"seed":37672,"seed_locked":false},{"name":"tones_step_3","type":"tones_step","parameters":{"value":0.43,"width":0.83,"invert":false},"node_position":{"x":1300,"y":-40},"seed":-2380,"seed_locked":false},{"name":"tones_step_4","type":"tones_step","parameters":{"value":0.43,"width":0.83,"invert":false},"node_position":{"x":1300,"y":420},"seed":2248,"seed_locked":false}],"connections":[{"from":"fbm_2","from_port":0,"to":"791_2","to_port":0},{"from":"fbm","from_port":0,"to":"791_2","to_port":1},{"from":"fbm_2","from_port":0,"to":"791_3","to_port":1},{"from":"fbm","from_port":0,"to":"791_3","to_port":0},{"from":"graph_2","from_port":0,"to":"791_3","to_port":2},{"from":"791_2","from_port":0,"to":"791_4","to_port":0},{"from":"791_3","from_port":0,"to":"791_4","to_port":1},{"from":"graph_2","from_port":1,"to":"791_4","to_port":2},{"from":"791_4","from_port":0,"to":"blend","to_port":0},{"from":"791_4","from_port":1,"to":"blend","to_port":1},{"from":"791_5","from_port":0,"to":"791_7","to_port":0},{"from":"791_6","from_port":0,"to":"791_7","to_port":1},{"from":"791_7","from_port":0,"to":"blend_2","to_port":0},{"from":"791_7","from_port":1,"to":"blend_2","to_port":1},{"from":"graph_2","from_port":0,"to":"791_5","to_port":0},{"from":"graph_3","from_port":0,"to":"791_5","to_port":1},{"from":"graph_4","from_port":0,"to":"791_5","to_port":2},{"from":"graph_3","from_port":0,"to":"791_6","to_port":0},{"from":"graph_3","from_port":0,"to":"791_2","to_port":2},{"from":"graph_2","from_port":0,"to":"791_6","to_port":2},{"from":"graph_4","from_port":0,"to":"791_6","to_port":1},{"from":"graph_4","from_port":1,"to":"791_7","to_port":2},{"from":"fbm_2","from_port":0,"to":"tones_step","to_port":0},{"from":"fbm","from_port":0,"to":"tones_step_2","to_port":0},{"from":"tones_step_2","from_port":0,"to":"blend_2","to_port":2},{"from":"tones_step","from_port":0,"to":"blend","to_port":2},{"from":"blend_2","from_port":0,"to":"tones_step_4","to_port":0},{"from":"blend","from_port":0,"to":"tones_step_3","to_port":0},{"from":"tones_step_3","from_port":0,"to":"gen_outputs","to_port":0},{"from":"tones_step_4","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"gaussian_blur","type":"gaussian_blur","parameters":{"param0":11,"param1":3,"param2":0},"node_position":{"x":5693.705566,"y":-2905.523438},"seed":0,"seed_locked":false},{"name":"multi_warp_2","type":"multi_warp","parameters":{"param0":11,"param1":4,"param2":15,"param3":1},"node_position":{"x":5988.537598,"y":-2898.495605},"seed":0,"seed_locked":false},{"name":"transform2","type":"transform2","parameters":{"translate_x":0,"translate_y":0,"rotate":0,"scale_x":1,"scale_y":2,"mode":1},"node_position":{"x":5710.232422,"y":-2760.912354},"seed":0,"seed_locked":false},{"name":"make_tileable_square","type":"make_tileable_square","parameters":{"fw":0.1},"node_position":{"x":6267.788086,"y":-2885.925781},"seed":0,"seed_locked":false},{"name":"buffer_3","type":"buffer","parameters":{"size":11},"node_position":{"x":6510.582031,"y":-2890.02832},"seed":0,"seed_locked":false,"version":1},{"name":"alter_hsv","type":"alter_hsv","parameters":{"all":0.17,"hue":0.25,"value":0.41,"saturation":0.08},"node_position":{"x":7331.281738,"y":-2890.687012},"seed":0,"seed_locked":false},{"name":"tones_6","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":1,"g":1,"b":1,"a":1},"out_min":{"type":"Color","r":1,"g":1,"b":1,"a":0},"out_max":{"type":"Color","r":0,"g":0,"b":0,"a":1}},"node_position":{"x":7022.398926,"y":-2908.024414},"seed":0,"seed_locked":false},{"name":"smooth_curvature2","type":"smooth_curvature2","parameters":{"param0":11,"param1":16,"param2":5.88,"param3":0.13,"param4":1},"node_position":{"x":8244.026367,"y":-1626.225464},"seed":0,"seed_locked":false},{"name":"blend_10","type":"blend","parameters":{"blend_type":3,"amount":0.79},"node_position":{"x":8195.249023,"y":-2106.755859},"seed":0,"seed_locked":false},{"name":"occlusion2","type":"occlusion2","parameters":{"param0":11,"param2":10.5,"param1":24,"param3":1},"node_position":{"x":8989.586914,"y":-248.717606},"seed":0,"seed_locked":false},{"name":"transform2_3","type":"transform2","parameters":{"translate_x":0.125,"translate_y":1,"rotate":0,"scale_x":1,"scale_y":1,"mode":1},"node_position":{"x":9002.260742,"y":-503.300903},"seed":0,"seed_locked":false},{"name":"blend_11","type":"blend","parameters":{"blend_type":4,"amount":0.14},"node_position":{"x":9545.070312,"y":-268.980499},"seed":0,"seed_locked":false},{"name":"tones_7","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":1,"g":1,"b":1,"a":1},"out_min":{"type":"Color","r":1,"g":1,"b":1,"a":0},"out_max":{"type":"Color","r":0.601736,"g":0.601736,"b":0.601736,"a":1}},"node_position":{"x":9285.764648,"y":-262.869385},"seed":0,"seed_locked":false},{"name":"multi_warp_3","type":"multi_warp","parameters":{"param0":11,"param1":1.011,"param2":15,"param3":0},"node_position":{"x":7392.970215,"y":-1608.894531},"seed":0,"seed_locked":false},{"name":"fbm2_3","type":"fbm2","parameters":{"noise":1,"scale_x":4,"scale_y":3,"folds":0,"iterations":6,"persistence":0.5,"offset":0},"node_position":{"x":7122.331055,"y":-1525.174194},"seed":0,"seed_locked":false},{"name":"graph_3","type":"graph","parameters":{"param0":{"type":"Gradient","points":[{"pos":0,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":0.320312,"g":0.320312,"b":0.320312,"a":1}],"interpolation":1},"param1":{"type":"Gradient","points":[{"pos":0,"r":0.15625,"g":0.100842,"b":0.070801,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":1}},"node_position":{"x":8504.874023,"y":-1630.743774},"seed":0,"seed_locked":false,"label":"SmoothCurvatureSplit","shortdesc":"","longdesc":"","nodes":[{"name":"math_2","type":"math","parameters":{"op":1,"default_in1":0,"default_in2":0.5,"clamp":false},"node_position":{"x":2630.178711,"y":-316.050781},"seed":0,"seed_locked":false},{"name":"math_3","type":"math","parameters":{"op":2,"default_in1":0,"default_in2":2,"clamp":true},"node_position":{"x":2856.000488,"y":-314.393402},"seed":0,"seed_locked":false},{"name":"math_4","type":"math","parameters":{"op":0,"default_in1":0,"default_in2":0.5,"clamp":false},"node_position":{"x":2642.564453,"y":-148.338943},"seed":0,"seed_locked":false},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":2130.178711,"y":-231.366165},"seed":0,"seed_locked":false,"ports":[{"longdesc":"Height","name":"port0","shortdesc":"","type":"f"}]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":3568.525146,"y":-265.171722},"seed":0,"seed_locked":false,"ports":[{"longdesc":"Convex","name":"Convex","shortdesc":"","type":"rgba"},{"longdesc":"Concave","name":"Concave","shortdesc":"","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":{"type":"Gradient","points":[{"pos":0,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":0.320312,"g":0.320312,"b":0.320312,"a":1}],"interpolation":1},"param1":{"type":"Gradient","points":[{"pos":0,"r":0.15625,"g":0.100842,"b":0.070801,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":1}},"node_position":{"x":2549.282227,"y":-616.050781},"seed":0,"seed_locked":false,"widgets":[{"label":"Convex","linked_widgets":[{"node":"colorize","widget":"gradient"}],"longdesc":"Concave","name":"param0","type":"linked_control"},{"label":"Concave","linked_widgets":[{"node":"colorize_2","widget":"gradient"}],"longdesc":"Convex","name":"param1","type":"linked_control"}]},{"name":"colorize","type":"colorize","parameters":{"gradient":{"type":"Gradient","points":[{"pos":0,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":0.320312,"g":0.320312,"b":0.320312,"a":1}],"interpolation":1}},"node_position":{"x":3208.362793,"y":-315.366241},"seed":0,"seed_locked":false},{"name":"colorize_2","type":"colorize","parameters":{"gradient":{"type":"Gradient","points":[{"pos":0,"r":0.15625,"g":0.100842,"b":0.070801,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":1}},"node_position":{"x":3190.723877,"y":-130.505112},"seed":0,"seed_locked":false},{"name":"remap","type":"remap","parameters":{"min":0,"max":1,"step":0},"node_position":{"x":2872.022949,"y":-127.324966},"seed":0,"seed_locked":false}],"connections":[{"from":"gen_inputs","from_port":0,"to":"math_2","to_port":0},{"from":"math_2","from_port":0,"to":"math_3","to_port":0},{"from":"gen_inputs","from_port":0,"to":"math_4","to_port":0},{"from":"math_3","from_port":0,"to":"colorize","to_port":0},{"from":"colorize","from_port":0,"to":"gen_outputs","to_port":0},{"from":"colorize_2","from_port":0,"to":"gen_outputs","to_port":1},{"from":"math_4","from_port":0,"to":"remap","to_port":0},{"from":"remap","from_port":0,"to":"colorize_2","to_port":0}]},{"name":"tones_step","type":"tones_step","parameters":{"value":0.56,"width":0.1,"invert":false},"node_position":{"x":7047.602539,"y":0.054491},"seed":0,"seed_locked":false},{"name":"blend_12","type":"blend","parameters":{"blend_type":2,"amount":0.47},"node_position":{"x":9036.572266,"y":-2090.114746},"seed":0,"seed_locked":false},{"name":"fbm2_4","type":"fbm2","parameters":{"noise":0,"scale_x":8,"scale_y":8,"folds":0,"iterations":2,"persistence":0.5,"offset":0},"node_position":{"x":-4427.380859,"y":158.686783},"seed":0,"seed_locked":false},{"name":"tones_8","type":"tones","parameters":{"in_min":{"type":"Color","r":0.199652,"g":0.199652,"b":0.199652,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":0.796007,"g":0.796007,"b":0.796007,"a":1},"out_min":{"type":"Color","r":0.164931,"g":0.164931,"b":0.164931,"a":0},"out_max":{"type":"Color","r":1,"g":1,"b":1,"a":1}},"node_position":{"x":-4111.130859,"y":158.686783},"seed":0,"seed_locked":false},{"name":"colorize","type":"colorize","parameters":{"gradient":{"type":"Gradient","points":[{"pos":0,"r":0.355469,"g":0.317761,"b":0.245773,"a":1},{"pos":1,"r":0.390625,"g":0.339639,"b":0.25177,"a":1}],"interpolation":1}},"node_position":{"x":7027.884766,"y":-2991.416016},"seed":0,"seed_locked":false},{"name":"graph_6","type":"graph","parameters":{"param0":11,"param1":0.1,"param2":0,"param3":0.08,"param4":4,"param5":1},"node_position":{"x":8938.381836,"y":342.086609},"seed":6741,"seed_locked":false,"label":"HBAO","shortdesc":"","longdesc":"","nodes":[{"name":"voronoi_3","type":"shader","parameters":{"radius":0.1,"angleBiasDeg":0,"intensity":1,"depth_scale":0.08,"quality":4},"node_position":{"x":-600.80072,"y":-894.601807},"seed":49449,"seed_locked":false,"shader_model":{"code":"","global":"","inputs":[{"default":"0.0","function":true,"label":"","name":"in","type":"f"}],"instance":"//inspired by:\n//http://developer.download.nvidia.com/presentations/2008/SIGGRAPH/HBAO_SIG08b.pdf\n//https://gist.github.com/dotModded/981206ae1f4e760b7348\n//https://github.com/scanberg/hbao/blob/master/resources/shaders/hbao_full_frag.glsl\n//radius - radius of influence in screen space\n//angleBiasDeg - ~minimum angle for AO\n//intensity - increase strength of caclulated AO\n//noiseScale - for randomization values\nfloat $(name)_hbao(vec2 uv, float radius, float angleBiasDeg, float intensity, vec2 noiseScale) {\n  int samplig_directions = 8;\n  int steps = int($quality);\n\n  float angleBias = 0.0174532925 * angleBiasDeg;\n\n  vec3 c_point = vec3(uv*2.0 - 1.0, $in(uv)*$depth_scale);\n  //fun with dfdx & dfdy - https://community.khronos.org/t/getting-the-normal-with-dfdx-and-dfdy/70177\n  vec3 c_normal = normalize(cross(dFdx(c_point), dFdy(c_point)));\n\n\n  float cosMaxRot = cos(6.28318530718 / float(samplig_directions));\n  float sinMaxROt = sin(6.28318530718 / float(samplig_directions));\n  \n  // it should be faster than standard rotation in each iteartion\n  mat2 deltaRotationMatrix = mat2(\n\tvec2(cosMaxRot, -sinMaxROt),\n\tvec2(sinMaxROt, cosMaxRot)\n  );\n  \n  // calculate starting offset, as the smallest step\n  vec2 offset_uv = vec2(1.0, 0.0) * (radius /float(steps));\n\n  //randomize angle\n  vec3 sampleNoise\t= rand3(uv * noiseScale);\n  sampleNoise.xy\t  = sampleNoise.xy * 2.0 - vec2(1.0);\n  mat2 rotationMatrix = mat2(vec2(sampleNoise.x, -sampleNoise.y), \n\t\t\t\t\t\t\t vec2(sampleNoise.y,  sampleNoise.x));\n  \n  // apply a random rotation to the base step vector\n  offset_uv = rotationMatrix * offset_uv;\n  \n  float jitter = sampleNoise.z;\n  float occlusion = 0.0;\n  \n  for (int i = 0; i < samplig_directions; ++i) {\n\t// incrementally rotate sample direction\n\toffset_uv = deltaRotationMatrix * offset_uv;\n\tfloat oldAngle   = angleBias;\n\tfor (int j = 0; j < steps; ++j) {\n\t  //add jitter & distance to offset UV\n\t  vec2 sample_uv\t = uv + (jitter + float(j)) * offset_uv;\n\t  vec3 s_point\t = vec3(sample_uv*2.0 - 1.0, $in(sample_uv)*$depth_scale);\n\t  vec3 sample_tan  = (s_point - c_point); //not sure if correct, but looks ok\n\t  // 90 deg - (angle between normal from current point &  sampled tangent)\n\t  //https://math.stackexchange.com/questions/654315/how-to-convert-a-dot-product-of-two-vectors-to-the-angle-between-the-vectors\n\t  float gamma = 1.57079632679 - acos(dot(c_normal, normalize(sample_tan)));\n\t  \n\t  if (gamma > oldAngle) {\n\t\tfloat value = sin(gamma) - sin(oldAngle);\n\t\tfloat attenuation = clamp(1.0 - pow(length(sample_tan.xy)/radius, 2.0), 0.0, 1.0);\n\t\tocclusion += attenuation * value;\n\t\t//occlusion += value;\n\t\toldAngle = gamma;\n\t  }\n\t}\n  }\n  \n  occlusion = 1.0 - occlusion / float(samplig_directions);\n  return clamp(pow(occlusion, 1.0 + intensity), 0.0, 1.0);\n}","longdesc":"A node that generates several images from a tileable voronoi noise","name":"HBAO","outputs":[{"f":"$(name)_hbao($uv,$radius, $angleBiasDeg, $intensity, vec2(16.0,16.0))","longdesc":"A color pattern that assigns a random color to each cell","shortdesc":"Random color","type":"f"}],"parameters":[{"control":"None","default":0.01,"label":"Radius","longdesc":"The scale along the X axis","max":1,"min":0,"name":"radius","shortdesc":"Scale.x","step":0.01,"type":"float"},{"control":"None","default":30,"label":"Angle Bias","longdesc":"Angle bias for AO","max":90,"min":0,"name":"angleBiasDeg","shortdesc":"Angle Bias","step":1,"type":"float"},{"control":"None","default":0.2,"label":"Intensity","longdesc":"Change intensity of AO","max":5,"min":0,"name":"intensity","shortdesc":"Intensity","step":0.01,"type":"float"},{"control":"None","default":1,"label":"Depth Scale","longdesc":"Lineary scales depth values afecting  cacluated normals & tangents","max":1,"min":0,"name":"depth_scale","shortdesc":"Depth Scale","step":0.01,"type":"float"},{"control":"None","default":4,"label":"Steps","longdesc":"Steps in given direction per ray","max":12,"min":1,"name":"quality","shortdesc":"Quality","step":1,"type":"float"}],"shortdesc":"Voronoi Noise"}},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-1338.030762,"y":-788.080872},"seed":43798,"seed_locked":false,"ports":[{"group_size":0,"longdesc":"Greyscale heightmap","name":"input","shortdesc":"Input","type":"f"}]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":-902.684204,"y":-327.282288},"seed":42623,"seed_locked":false,"ports":[{"group_size":0,"longdesc":"","name":"port0","shortdesc":"AO","type":"f"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":11,"param1":0.1,"param2":0,"param3":0.08,"param4":4,"param5":1},"node_position":{"x":-1488.979004,"y":-561.71167},"seed":58911,"seed_locked":false,"widgets":[{"label":"Size","linked_widgets":[{"node":"voronoi_2","widget":"size"},{"node":"buffer_2","widget":"size"},{"node":"buffer_5","widget":"size"},{"node":"buffer_7","widget":"size"}],"name":"param0","shortdesc":"Size","type":"linked_control"},{"label":"Radius","linked_widgets":[{"node":"voronoi_3","widget":"radius"}],"longdesc":"Affected radius of point in UV size","name":"param1","shortdesc":"Radius","type":"linked_control"},{"label":"Angle Bias","linked_widgets":[{"node":"voronoi_3","widget":"angleBiasDeg"}],"longdesc":"Minimum angle on heightmap for AO to occur. Angle is calculated in UV space, where depth (grayscale input) is scaled by \"Depth Scale\" parameter","name":"param2","shortdesc":"Angle bias","type":"linked_control"},{"label":"Depth Scale","linked_widgets":[{"node":"voronoi_3","widget":"depth_scale"}],"longdesc":"Lineary scales depth values afecting  cacluated normals & tangents","name":"param3","shortdesc":"Depth Scale","type":"linked_control"},{"label":"Quality","linked_widgets":[{"node":"voronoi_3","widget":"quality"}],"longdesc":"Number of steps per direction sampling","name":"param4","shortdesc":"Quality","type":"linked_control"},{"label":"Intensity","linked_widgets":[{"node":"voronoi_3","widget":"intensity"}],"longdesc":"Change intensity of calculated AO","name":"param5","shortdesc":"Intensity","type":"linked_control"}]},{"name":"voronoi_2","type":"shader","parameters":{"size":11,"sigma":3,"ksigma":4,"threshold":0.7},"node_position":{"x":-710.111145,"y":-596.459534},"seed":38722,"seed_locked":false,"shader_model":{"code":"","global":"","inputs":[{"default":"0.0","function":true,"label":"","name":"in","type":"rgba"}],"instance":"//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n//  Copyright (c) 2018-2019 Michele Morrone\n//  All rights reserved.\n//\n//  https://michelemorrone.eu - https://BrutPitt.com\n//\n//  me@michelemorrone.eu - brutpitt@gmail.com\n//  twitter: @BrutPitt - github: BrutPitt\n//  \n//  https://github.com/BrutPitt/glslSmartDeNoise/\n//\n//  This software is distributed under the terms of the BSD 2-Clause license\n//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n//  smartDeNoise - parameters\n//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n//\n//  sampler2D tex\t - sampler image / texture\n//  vec2 uv\t\t   - actual fragment coord\n//  float sigma  >  0 - sigma Standard Deviation\n//  float kSigma >= 0 - sigma coefficient \n//\t  kSigma * sigma  -->  radius of the circular kernel\n//  float threshold   - edge sharpening threshold \nvec4 $(name)_smartDeNoise(vec2 uv, float sigma, float kSigma, float threshold)\n{\n\tfloat INV_SQRT_OF_2PI = 0.39894228040143267793994605993439; // 1.0/SQRT_OF_2PI\n\tfloat INV_PI = 0.31830988618379067153776752674503;\n\tfloat radius = round(kSigma*sigma);\n\tfloat radQ = radius * radius;\n\n\tfloat invSigmaQx2 = .5 / (sigma * sigma);\t  // 1.0 / (sigma^2 * 2.0)\n\tfloat invSigmaQx2PI = INV_PI * invSigmaQx2;\t// 1/(2 * PI * sigma^2)\n\n\tfloat invThresholdSqx2 = .5 / (threshold * threshold);\t // 1.0 / (sigma^2 * 2.0)\n\tfloat invThresholdSqrt2PI = INV_SQRT_OF_2PI / threshold;   // 1.0 / (sqrt(2*PI) * sigma^2)\n\n\tvec4 centrPx = $in(uv); \n\n\tfloat zBuff = 0.0;\n\tvec4 aBuff = vec4(0.0);\n\tvec2 size = vec2($size, $size);\n\n\tvec2 d;\n\tfor (d.x=-radius; d.x <= radius; d.x++) {\n\t\tfloat pt = sqrt(radQ-d.x*d.x);\t   // pt = yRadius: have circular trend\n\t\tfor (d.y=-pt; d.y <= pt; d.y++) {\n\t\t\tfloat blurFactor = exp( -dot(d , d) * invSigmaQx2 ) * invSigmaQx2PI;\n\n\t\t\tvec4 walkPx =  $in(uv+d/size);\n\t\t\tvec4 dC = walkPx-centrPx;\n\t\t\tfloat deltaFactor = exp( -dot(dC, dC) * invThresholdSqx2) * invThresholdSqrt2PI * blurFactor;\n\n\t\t\tzBuff += deltaFactor;\n\t\t\taBuff += deltaFactor*walkPx;\n\t\t}\n\t}\n\treturn aBuff/zBuff;\n}","longdesc":"A node that generates several images from a tileable voronoi noise","name":"Denoiser","outputs":[{"longdesc":"A color pattern that assigns a random color to each cell","rgba":"$(name)_smartDeNoise($uv, $sigma, $ksigma, $threshold)","shortdesc":"Random color","type":"rgba"}],"parameters":[{"default":10,"first":0,"label":"size","last":12,"longdesc":"The scale along the X axis","name":"size","shortdesc":"Scale.x","type":"size"},{"control":"None","default":0.5,"label":"Sigma","max":1,"min":0.005,"name":"sigma","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"kSigma","max":1,"min":0,"name":"ksigma","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"threshold","max":1,"min":0,"name":"threshold","step":0.1,"type":"float"}],"shortdesc":"Voronoi Noise"}},{"name":"buffer_5","type":"buffer","parameters":{"size":11},"node_position":{"x":-931.449646,"y":-724.330017},"seed":6771,"seed_locked":false,"version":1},{"name":"buffer_7","type":"buffer","parameters":{"size":11},"node_position":{"x":-948.36377,"y":-449.796295},"seed":16139,"seed_locked":false,"version":1},{"name":"buffer_2","type":"buffer","parameters":{"size":11},"node_position":{"x":-976.009644,"y":-975.5},"seed":42465,"seed_locked":false,"version":1}],"connections":[{"from":"voronoi_3","from_port":0,"to":"buffer_5","to_port":0},{"from":"voronoi_2","from_port":0,"to":"buffer_7","to_port":0},{"from":"buffer_7","from_port":0,"to":"gen_outputs","to_port":0},{"from":"gen_inputs","from_port":0,"to":"buffer_2","to_port":0},{"from":"buffer_2","from_port":0,"to":"voronoi_3","to_port":0},{"from":"buffer_5","from_port":0,"to":"voronoi_2","to_port":0}]},{"name":"normal_map2","type":"normal_map2","parameters":{"param2":0,"size":11,"strength":1,"buffer":1},"node_position":{"x":6172.291504,"y":-1618.892212},"seed":0,"seed_locked":false},{"name":"smooth_curvature2_2","type":"smooth_curvature2","parameters":{"param0":11,"param1":16,"param2":0.51,"param3":0.22,"param4":1},"node_position":{"x":6632.868164,"y":-1618.65979},"seed":0,"seed_locked":false},{"name":"tones_range","type":"tones_range","parameters":{"value":0.59,"width":0.16,"contrast":0.24,"invert":false},"node_position":{"x":6878.369141,"y":-1613.437256},"seed":0,"seed_locked":false},{"name":"normal_map_convert_3","type":"normal_map_convert","parameters":{"op":0},"node_position":{"x":6362.256836,"y":-1618.508057},"seed":0,"seed_locked":false},{"name":"colorize_2","type":"colorize","parameters":{"gradient":{"type":"Gradient","points":[{"pos":0,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":0.203125,"g":0.195984,"b":0.174561,"a":1}],"interpolation":1}},"node_position":{"x":7132.259766,"y":-1617.17688},"seed":0,"seed_locked":false},{"name":"tones_step_2","type":"tones_step","parameters":{"value":0.4,"width":0.01,"invert":false},"node_position":{"x":5845.374512,"y":-2054.236572},"seed":0,"seed_locked":false},{"name":"occlusion2_2","type":"occlusion2","parameters":{"param0":11,"param2":24.5,"param1":57,"param3":1},"node_position":{"x":5817.012695,"y":-1913.776489},"seed":0,"seed_locked":false},{"name":"blend_13","type":"blend","parameters":{"blend_type":2,"amount":1},"node_position":{"x":6066.905762,"y":-2046.994385},"seed":0,"seed_locked":false},{"name":"blend_14","type":"blend","parameters":{"blend_type":0,"amount":1},"node_position":{"x":7891.211426,"y":-2109.962891},"seed":0,"seed_locked":false},{"name":"colorize_3","type":"colorize","parameters":{"gradient":{"type":"Gradient","points":[{"pos":0,"r":0.191406,"g":0.166546,"b":0.134583,"a":1},{"pos":1,"r":0.296875,"g":0.270148,"b":0.238892,"a":1}],"interpolation":1}},"node_position":{"x":7343.872559,"y":-2686.204834},"seed":0,"seed_locked":false},{"name":"invert_3","type":"invert","parameters":{},"node_position":{"x":6856.937988,"y":-2048.25},"seed":0,"seed_locked":false},{"name":"multi_warp_5","type":"multi_warp","parameters":{"param0":11,"param1":2.117,"param2":15,"param3":2},"node_position":{"x":6572.908203,"y":-2052.556885},"seed":0,"seed_locked":false},{"name":"fbm2_5","type":"fbm2","parameters":{"noise":1,"scale_x":8,"scale_y":4,"folds":0,"iterations":6,"persistence":0.5,"offset":0},"node_position":{"x":6296.109375,"y":-1920.053467},"seed":0,"seed_locked":false},{"name":"blend_15","type":"blend","parameters":{"blend_type":3,"amount":0.95},"node_position":{"x":9797.766602,"y":-282.459198},"seed":0,"seed_locked":false},{"name":"fbm2_6","type":"fbm2","parameters":{"noise":1,"scale_x":4,"scale_y":4,"folds":0,"iterations":3,"persistence":0.5,"offset":0},"node_position":{"x":3743.619385,"y":-274.990173},"seed":0.274013,"seed_locked":false},{"name":"blend_16","type":"blend","parameters":{"blend_type":9,"amount":1},"node_position":{"x":4346.549805,"y":86.528595},"seed":0,"seed_locked":false},{"name":"tones_9","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":1,"g":1,"b":1,"a":1},"out_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"out_max":{"type":"Color","r":0.552951,"g":0.552951,"b":0.552951,"a":1}},"node_position":{"x":4023.249512,"y":-257.280365},"seed":0,"seed_locked":false},{"name":"math_2","type":"math","parameters":{"op":15,"default_in1":0,"default_in2":0,"clamp":false},"node_position":{"x":4629.901367,"y":-287.39212},"seed":0,"seed_locked":false},{"name":"blend_17","type":"blend","parameters":{"blend_type":10,"amount":1},"node_position":{"x":6338.297852,"y":-2055.764404},"seed":0,"seed_locked":false},{"name":"transform2_6","type":"transform2","parameters":{"translate_x":0.125,"translate_y":1.16,"rotate":0,"scale_x":0.5,"scale_y":0.5,"mode":1},"node_position":{"x":6997.02832,"y":-2706.075684},"seed":0,"seed_locked":false},{"name":"reroute","type":"reroute","parameters":{},"node_position":{"x":-3533.081543,"y":820.682068},"seed":0,"seed_locked":false},{"name":"comment","type":"comment","parameters":{},"node_position":{"x":-3036.911377,"y":-117.336845},"seed":0,"seed_locked":false,"title":"Base shapes","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":1263.211426,"y":755.680176}},{"name":"reroute_3","type":"reroute","parameters":{},"node_position":{"x":-3328.070312,"y":-282.013611},"seed":0,"seed_locked":false},{"name":"tones_2","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.50675,"g":0.50675,"b":0.50675,"a":0.5},"in_max":{"type":"Color","r":0.99375,"g":0.99375,"b":0.99375,"a":1},"out_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"out_max":{"type":"Color","r":0.319729,"g":0.319729,"b":0.319729,"a":1}},"node_position":{"x":-125.569862,"y":1202.380493},"seed":0,"seed_locked":false},{"name":"tiler_2","type":"tiler","parameters":{"tx":9,"ty":9,"overlap":2,"inputs":0,"scale_x":0.56,"scale_y":0.58,"fixed_offset":0,"offset":1,"rotate":12.1,"scale":0.41,"value":0.8,"variations":false},"node_position":{"x":-2110.347656,"y":1355.931152},"seed":0,"seed_locked":false},{"name":"shape","type":"shape","parameters":{"shape":1,"sides":6,"radius":0.85,"edge":0.44},"node_position":{"x":-3047.8396,"y":1437.649536},"seed":0,"seed_locked":false},{"name":"gradient_2","type":"gradient","parameters":{"repeat":1,"rotate":-122.5,"gradient":{"type":"Gradient","points":[{"pos":0.31027,"r":0,"g":0,"b":0,"a":1},{"pos":0.885983,"r":1,"g":1,"b":1,"a":1}],"interpolation":1}},"node_position":{"x":-2619.029297,"y":1311.133423},"seed":0,"seed_locked":false},{"name":"blend_6","type":"blend","parameters":{"blend_type":2,"amount":1},"node_position":{"x":-2361.626709,"y":1360.704468},"seed":0,"seed_locked":false},{"name":"transform2_2","type":"transform2","parameters":{"translate_x":0,"translate_y":0,"rotate":-45,"scale_x":1.21,"scale_y":0.6,"mode":0},"node_position":{"x":-2637.189209,"y":1439.714844},"seed":0,"seed_locked":false},{"name":"multi_warp_4","type":"multi_warp","parameters":{"param0":11,"param1":2.374,"param2":15,"param3":1},"node_position":{"x":-1572.180176,"y":1348.195435},"seed":0,"seed_locked":false},{"name":"fbm2_7","type":"fbm2","parameters":{"noise":0,"scale_x":2,"scale_y":2,"folds":0,"iterations":5,"persistence":0.5,"offset":0},"node_position":{"x":-1854.150146,"y":1426.489746},"seed":0,"seed_locked":false},{"name":"rotate","type":"rotate","parameters":{"cx":0,"cy":0,"rotate":30},"node_position":{"x":-2878.977051,"y":1443.475952},"seed":0,"seed_locked":false},{"name":"shader_2","type":"shader","parameters":{"iter":1,"mortar":-0.03,"bevel":0.32,"amount":0.1},"node_position":{"x":-2315.969971,"y":1989.55957},"seed":0.481902,"seed_locked":false,"shader_model":{"code":"vec4 $(name_uv)_fill = vec4(0.0);\nfloat $(name_uv)_lines = fracture_$(name)($uv, int($iter), $amount, $mortar * $mortar_map($uv), $bevel * $bevel_map($uv), $seed, $(name_uv)_fill);","global":"","includes":["sdline2","skewed_bricks","skewed_uneven_bricks"],"inputs":[{"default":"vec4(0.0, 0.0, 1.0, 1.0)","function":true,"label":"","name":"in","type":"fill"},{"default":"1.0","label":"","name":"mortar_map","type":"f"},{"default":"1.0","label":"","name":"bevel_map","type":"f"}],"instance":"float fracture_$(name)(vec2 uv, int iterations, float amount, float mortar, float bevel, float seed, inout vec4 fill) {\n\t\n\tfloat lines = 1.0;\n\t\n\tbool cut = rand3($in(uv).xy  + seed).z > amount;\n\t\n\tfor (int level = 0; level < iterations; level++ ) {\n\t\n\t\tif (cut)\n\t\t\tcontinue;\n\t\n\t\tvec4 fill_data = level == 0 ? $in(uv) : fill;\n\t\tvec2 tile_fix = floor(uv - fill_data.xy);\n\t\tfill_data.xy += tile_fix;\n\t\n\t\tvec3 rand_vals = rand3(fract(fill_data.xy) + seed + float(level));\n\t\n\t\tint point_a_index = int(rand_vals.x * 4.0);\n\t\tint point_b_index = point_a_index + 1 + int(rand_vals.y * 3.0);\n\t\tpoint_b_index = point_b_index >= 4 ? point_b_index - 4 : point_b_index;\n\t\t\n\t\tvec2 point_a = vec2(0.0);\n\t\tvec2 point_b = vec2(0.0);\n\t\t\n\t\t// top, right, bottom, left\n\t\tswitch(point_a_index) {\n\t\t\tcase 0:\n\t\t\t\tpoint_a = fill_data.xy + vec2(rand_vals.x * fill_data.z, 0.0);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tpoint_a = fill_data.xy + fill_data.zw - vec2(0.0, rand_vals.x * fill_data.w);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tpoint_a = fill_data.xy + fill_data.zw - vec2(rand_vals.x * fill_data.z, 0.0);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tpoint_a = fill_data.xy + vec2(0.0, rand_vals.x * fill_data.w);\n\t\t\t\tbreak;\n\t\t}\n\t\n\t\tswitch(point_b_index) {\n\t\t\tcase 0:\n\t\t\t\tpoint_b = fill_data.xy + vec2(rand_vals.y * fill_data.z, 0.0);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tpoint_b = fill_data.xy + fill_data.zw - vec2(0.0, rand_vals.y * fill_data.w);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tpoint_b = fill_data.xy + fill_data.zw - vec2(rand_vals.y * fill_data.z, 0.0);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tpoint_b = fill_data.xy + vec2(0.0, rand_vals.y * fill_data.w);\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlines = min(lines, sdLine(uv, point_a, point_b).x);\n\t\n\t// points\n\t\tvec2 points[4] = vec2[4](\n\t\t\tfill_data.xy,\n\t\t\tfill_data.xy + vec2(fill_data.z, 0.0),\n\t\t\tfill_data.xy + fill_data.zw,\n\t\t\tfill_data.xy + vec2(0.0, fill_data.w)\n\t\t);\n\t\n\t\tvec2 points_right_of_line[6] = vec2[6](vec2(-100.0), vec2(-100.0), vec2(-100.0), vec2(-100.0), point_a, point_b);\n\t\tvec2 points_left_of_line[6] = vec2[6](vec2(-100.0), vec2(-100.0), vec2(-100.0), vec2(-100.0), point_a, point_b);\n\t\t\n\t\tfor (int i = 0; i < 4; i++) {\n\t\t\tif (point_left_of_line(vec4(point_a, point_b), points[i])) {\n\t\t\t\tpoints_left_of_line[i] = points[i];\n\t\t\t} else {\n\t\t\t\tpoints_right_of_line[i] = points[i];\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (point_left_of_line(vec4(point_a, point_b), uv)) {\n\t\t\tvec2 box_min = vec2(99.0);\n\t\t\tvec2 box_max = vec2(-99.0);\n\t\t\tfor (int i = 0; i < 6; i++) {\n\t\t\t\tif (points_left_of_line[i].x < -99.0)\n\t\t\t\t\tcontinue;\n\t\t\t\tbox_min = min(box_min, points_left_of_line[i]);\n\t\t\t\tbox_max = max(box_max, points_left_of_line[i]);\n\t\t\t}\n\t\t\tfill = vec4(box_min, box_max - box_min);\n\t\t} else {\n\t\t\tvec2 box_min = vec2(99.0);\n\t\t\tvec2 box_max = vec2(-99.0);\n\t\t\tfor (int i = 0; i < 6; i++) {\n\t\t\t\tif (points_right_of_line[i].x < -99.0)\n\t\t\t\t\tcontinue;\n\t\t\t\tbox_min = min(box_min, points_right_of_line[i]);\n\t\t\t\tbox_max = max(box_max, points_right_of_line[i]);\n\t\t\t}\n\t\t\tfill = vec4(box_min, box_max - box_min);\t\n\t\t}\n\t}\n\t\n\tfill.xy = fract(fill.xy);\n\t\n\tfill = cut ? $in(uv) : fill;\n\t\n\treturn clamp( (lines - mortar / 10.0) / bevel * 10.0, 0.0, 1.0 );\n}","name":"Fill to Fracture","outputs":[{"f":"$(name_uv)_lines","type":"f"},{"fill":"$(name_uv)_fill","type":"fill"}],"parameters":[{"control":"None","default":1,"label":"Iterations","max":20,"min":1,"name":"iter","step":1,"type":"float"},{"control":"None","default":0.1,"label":"Mortar","max":1,"min":0,"name":"mortar","step":0.01,"type":"float"},{"control":"None","default":0.1,"label":"Bevel","max":1,"min":0,"name":"bevel","step":0.01,"type":"float"},{"control":"None","default":0.5,"label":"Amount","max":1,"min":0,"name":"amount","step":0.01,"type":"float"}]}},{"name":"invert","type":"invert","parameters":{},"node_position":{"x":-3027.671143,"y":2053.349121},"seed":0,"seed_locked":false},{"name":"tones_3","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":1,"g":1,"b":1,"a":1},"out_min":{"type":"Color","r":0.29375,"g":0.29375,"b":0.29375,"a":0},"out_max":{"type":"Color","r":0.66875,"g":0.66875,"b":0.66875,"a":1}},"node_position":{"x":-2601.873779,"y":2054.906982},"seed":0,"seed_locked":false},{"name":"tones_4","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":1,"g":1,"b":1,"a":1},"out_min":{"type":"Color","r":0.206877,"g":0.206877,"b":0.206877,"a":0},"out_max":{"type":"Color","r":0,"g":0,"b":0,"a":1}},"node_position":{"x":-1622.916504,"y":2007.164917},"seed":0,"seed_locked":false},{"name":"gaussian_blur_6","type":"graph","parameters":{"param0":11,"param1":0.11,"param2":0,"param4":100},"node_position":{"x":-2874.59375,"y":2049.308105},"seed":0,"seed_locked":false,"label":"Gaussian Blur HQ","shortdesc":"Gaussian blur","longdesc":"Applys a gaussian blur on its input","nodes":[{"name":"buffer_2","type":"buffer","parameters":{"size":11,"lod":0},"node_position":{"x":-517.875,"y":113.375},"seed":-55788,"seed_locked":false},{"name":"switch","type":"switch","parameters":{"outputs":1,"choices":2,"source":0},"node_position":{"x":-529.452393,"y":-15.166656},"seed":20224,"seed_locked":false},{"name":"switch_2","type":"switch","parameters":{"outputs":1,"choices":2,"source":0},"node_position":{"x":-226.452393,"y":9.333344},"seed":-31061,"seed_locked":false},{"name":"buffer","type":"buffer","parameters":{"size":11,"lod":0},"node_position":{"x":-402.25,"y":-315.75},"seed":57239,"seed_locked":false},{"name":"gen_parameters","type":"remote","parameters":{"param0":11,"param1":0.11,"param2":0,"param4":100},"node_position":{"x":-536.666626,"y":-483.666656},"seed":10501,"seed_locked":false,"widgets":[{"label":"Grid size:","linked_widgets":[{"node":"buffer","widget":"size"},{"node":"buffer_2","widget":"size"},{"node":"gaussian_blur_x","widget":"size"},{"node":"gaussian_blur_y","widget":"size"},{"node":"buffer_3","widget":"size"}],"longdesc":"The resolution of the input image","name":"param0","shortdesc":"Size","type":"linked_control"},{"label":"Sigma:","linked_widgets":[{"node":"gaussian_blur_x","widget":"sigma"},{"node":"gaussian_blur_y","widget":"sigma"}],"longdesc":"The strength of the blur filter","name":"param1","shortdesc":"Sigma","type":"linked_control"},{"configurations":{"Both":[{"node":"switch","value":0,"widget":"source"},{"node":"switch_2","value":0,"widget":"source"}],"X":[{"node":"switch","value":0,"widget":"source"},{"node":"switch_2","value":1,"widget":"source"}],"Y":[{"node":"switch","value":1,"widget":"source"},{"node":"switch_2","value":0,"widget":"source"}]},"label":"Direction:","linked_widgets":[{"node":"switch","widget":"source"},{"node":"switch_2","widget":"source"}],"longdesc":"Apply the blur filter horizontally, vertically of in both directions","name":"param2","shortdesc":"Direction","type":"config_control"},{"label":"Quality [%]","linked_widgets":[{"node":"gaussian_blur_x","widget":"quality"},{"node":"gaussian_blur_y","widget":"quality"}],"name":"param4","type":"linked_control"}]},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-895.666626,"y":-194.392853},"seed":52641,"seed_locked":false,"ports":[{"group_size":0,"longdesc":"The input image","name":"input","shortdesc":"Input","type":"rgba"},{"group_size":0,"longdesc":"A map that controls the strength of the blur filter","name":"amount","shortdesc":"Strength map","type":"f"}]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":193.547607,"y":-135.392853},"seed":77778,"seed_locked":true,"ports":[{"group_size":0,"longdesc":"Shows the generated blurred image","name":"port0","shortdesc":"Output","type":"rgba"}]},{"name":"gaussian_blur_x","type":"shader","parameters":{"size":11,"sigma":0.11,"quality":100},"node_position":{"x":-124.993408,"y":-279.281738},"seed":4629,"seed_locked":false,"shader_model":{"code":"","global":"","inputs":[{"default":"vec4(1.0)","function":true,"label":"","name":"in","type":"rgba"},{"default":"1.0","function":true,"label":"","name":"amount","type":"f"}],"instance":"vec4 $(name)_fct(vec2 uv) {\n\tfloat e = 1.0/$size;\n    //range based on 68–95–99.7 rule\n\tfloat scaled_sigma = $sigma /10.0;\n    float sampling_range = scaled_sigma*3.0;\n\tvec4 rv = vec4(0.0);\n\tfloat sum = 0.0;\n\tfloat sigma = max(0.000015, scaled_sigma*$amount(uv));\n\tfloat mapped_quality = 1.0 + ($quality - 1.0) * ($size - 1.0) / (100.0 - 1.0);\n\t\n    float step_size = max(e,1.0/mapped_quality);\n\t//maxium number of loop iterations = 1024\n\tstep_size = max(sampling_range*2.0/1024.0,step_size);\n\tstep_size -= mod(step_size, e);\n\tfloat coef_diff = 6.28318530718*sigma*sigma;\n\tfor (float i = -sampling_range; i <= sampling_range; i += step_size) {\n        float i_sigma = i/sigma;\n        float coef = exp(-0.5*i_sigma*i_sigma)/coef_diff;\n        rv += $in(uv+vec2(i, 0.0))*coef;\n        sum += coef;\n\t}\n\treturn rv/sum;\n}","name":"Gaussian blur X HQ","outputs":[{"rgba":"$(name)_fct($uv)","type":"rgba"}],"parameters":[{"default":9,"first":4,"label":"Size","last":12,"name":"size","type":"size"},{"control":"None","default":0.5,"label":"Sigma","max":2,"min":0,"name":"sigma","step":0.01,"type":"float"},{"control":"None","default":50,"label":"Quality","max":100,"min":1,"name":"quality","step":1,"type":"float"}]}},{"name":"gaussian_blur_y","type":"shader","parameters":{"size":11,"sigma":0.11,"quality":100},"node_position":{"x":-394.993408,"y":242.718262},"seed":12279,"seed_locked":true,"shader_model":{"code":"","global":"","inputs":[{"default":"vec4(1.0)","function":true,"label":"","name":"in","type":"rgba"},{"default":"1.0","function":true,"label":"","name":"amount","type":"f"}],"instance":"vec4 $(name)_fct(vec2 uv) {\n\tfloat e = 1.0/$size;\n\tfloat scaled_sigma = $sigma/10.0;\n    //range based on 68–95–99.7 rule\n    float sampling_range = scaled_sigma*3.0;\n\tvec4 rv = vec4(0.0);\n\tfloat sum = 0.0;\n\tfloat sigma = max(0.000015, scaled_sigma*$amount(uv));\n\tfloat mapped_quality = 1.0 + ($quality - 1.0) * ($size - 1.0) / (100.0 - 1.0);\n\t\n    float step_size = max(e,1.0/mapped_quality);\n\t//maxium number of loop iterations = 1024\n\tstep_size = max(sampling_range*2.0/1024.0,step_size);\n\tstep_size -= mod(step_size, e);\n\tfloat coef_diff = 6.28318530718*sigma*sigma;\n\tfor (float i = -sampling_range; i <= sampling_range; i += step_size) {\n        float i_sigma = i/sigma;\n        float coef = exp(-0.5*i_sigma*i_sigma)/coef_diff;\n        rv += $in(uv+vec2(0.0, i))*coef;\n        sum += coef;\n\t}\n\treturn rv/sum;\n}","name":"Gaussian blur Y","outputs":[{"rgba":"$(name)_fct($uv)","type":"rgba"}],"parameters":[{"default":9,"first":4,"label":"Size","last":12,"name":"size","type":"size"},{"control":"None","default":0.5,"label":"Sigma","max":2,"min":0,"name":"sigma","step":0.01,"type":"float"},{"control":"None","default":0.5,"label":"Quality","max":100,"min":1,"name":"quality","step":1,"type":"float"}]}},{"name":"buffer_3","type":"buffer","parameters":{"size":11,"lod":0},"node_position":{"x":-13.246796,"y":-35.96936},"seed":38064,"seed_locked":false}],"connections":[{"from":"switch","from_port":0,"to":"buffer_2","to_port":0},{"from":"gen_inputs","from_port":0,"to":"buffer","to_port":0},{"from":"switch","from_port":0,"to":"switch_2","to_port":1},{"from":"gen_inputs","from_port":0,"to":"switch","to_port":1},{"from":"gaussian_blur_x","from_port":0,"to":"switch","to_port":0},{"from":"gaussian_blur_y","from_port":0,"to":"switch_2","to_port":0},{"from":"buffer_2","from_port":0,"to":"gaussian_blur_y","to_port":0},{"from":"gen_inputs","from_port":1,"to":"gaussian_blur_x","to_port":1},{"from":"gen_inputs","from_port":1,"to":"gaussian_blur_y","to_port":1},{"from":"buffer_3","from_port":0,"to":"gen_outputs","to_port":0},{"from":"buffer","from_port":0,"to":"gaussian_blur_x","to_port":0},{"from":"switch_2","from_port":0,"to":"buffer_3","to_port":0}]},{"name":"fill_to_uv","type":"fill_to_uv2","parameters":{"mode":1},"node_position":{"x":-1335.612671,"y":1228.057007},"seed":0,"seed_locked":false},{"name":"custom_uv","type":"custom_uv","parameters":{"inputs":0,"sx":4,"sy":3,"rotate":180,"scale":0,"variations":false},"node_position":{"x":-764.092102,"y":1257.42395},"seed":0,"seed_locked":false},{"name":"math_v3","type":"math_v3","parameters":{"op":0,"d_in1_x":0,"d_in1_y":0,"d_in1_z":0,"d_in2_x":0,"d_in2_y":0,"d_in2_z":0,"clamp":false},"node_position":{"x":-1135.627197,"y":1164.652954},"seed":0,"seed_locked":false},{"name":"blend_8","type":"blend","parameters":{"blend_type":2,"amount":0.5},"node_position":{"x":-416.72995,"y":1227.807495},"seed":0,"seed_locked":false},{"name":"transform2_4","type":"transform2","parameters":{"translate_x":0.02,"translate_y":0.04,"rotate":0,"scale_x":1,"scale_y":1,"mode":1},"node_position":{"x":-1040.6875,"y":1346.189331},"seed":0,"seed_locked":false},{"name":"transform2_5","type":"transform2","parameters":{"translate_x":0,"translate_y":0,"rotate":0,"scale_x":0.5,"scale_y":0.5,"mode":1},"node_position":{"x":-1303.687378,"y":1438.189331},"seed":0,"seed_locked":false},{"name":"fbm2_8","type":"fbm2","parameters":{"noise":0,"scale_x":2,"scale_y":2,"folds":0,"iterations":5,"persistence":0.5,"offset":0},"node_position":{"x":-2317.660156,"y":2139.404541},"seed":0,"seed_locked":false},{"name":"multi_warp_6","type":"multi_warp","parameters":{"param0":11,"param1":2.374,"param2":15,"param3":2},"node_position":{"x":-1989.107178,"y":2013.787964},"seed":0,"seed_locked":false},{"name":"comment_2","type":"comment","parameters":{},"node_position":{"x":-3072.710938,"y":1967.559692},"seed":0,"seed_locked":false,"title":"Cracks","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":1687.7948,"y":403.844727}},{"name":"comment_3","type":"comment","parameters":{},"node_position":{"x":-3069.839844,"y":1142.652954},"seed":0,"seed_locked":false,"title":"Stone noise","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":3182.27002,"y":575.27832}},{"name":"reroute_2","type":"reroute","parameters":{},"node_position":{"x":-3251.721436,"y":2003.85791},"seed":0,"seed_locked":false},{"name":"reroute_4","type":"reroute","parameters":{},"node_position":{"x":-2959.551758,"y":332.308197},"seed":0,"seed_locked":false},{"name":"reroute_5","type":"reroute","parameters":{},"node_position":{"x":1326.507568,"y":2000.564819},"seed":0,"seed_locked":false},{"name":"reroute_6","type":"reroute","parameters":{},"node_position":{"x":1768.335693,"y":855.022156},"seed":0,"seed_locked":false},{"name":"comment_4","type":"comment","parameters":{},"node_position":{"x":2684.932129,"y":-460.794861},"seed":0,"seed_locked":false,"title":"Indent dots","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":765.271973,"y":384.000092}},{"name":"comment_5","type":"comment","parameters":{},"node_position":{"x":3721.619385,"y":-296.990173},"seed":0,"seed_locked":false,"title":"Dirt layer","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":539.630127,"y":254}},{"name":"invert_2","type":"invert","parameters":{},"node_position":{"x":9012.352539,"y":219.01532},"seed":0,"seed_locked":false},{"name":"normal_map2_2","type":"normal_map2","parameters":{"param2":0,"size":11,"strength":1,"buffer":1},"node_position":{"x":8976.646484,"y":34.27454},"seed":0,"seed_locked":false},{"name":"comment_6","type":"comment","parameters":{},"node_position":{"x":8880.586914,"y":-533.459229},"seed":0,"seed_locked":false,"title":"Roughness","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":1221.181152,"y":484.589966}},{"name":"comment_7","type":"comment","parameters":{},"node_position":{"x":6150.291992,"y":-1640.89209},"seed":0,"seed_locked":false,"title":"Edge highlights","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":1499.679199,"y":347.718018}},{"name":"comment_8","type":"comment","parameters":{},"node_position":{"x":5643.013184,"y":-2079.764404},"seed":0,"seed_locked":false,"title":"Dirt mask","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":1440.077148,"y":406.299866}},{"name":"reroute_7","type":"reroute","parameters":{},"node_position":{"x":5660.223633,"y":-1723.183472},"seed":0,"seed_locked":false},{"name":"reroute_8","type":"reroute","parameters":{},"node_position":{"x":8636.748047,"y":162.315903},"seed":0,"seed_locked":false},{"name":"comment_9","type":"comment","parameters":{},"node_position":{"x":4856.061523,"y":-47.967785},"seed":0,"seed_locked":false,"title":"Heightmap","color":{"type":"Color","r":0.333333,"g":0.476471,"b":0.317647,"a":1},"text":"","size":{"x":361.520508,"y":361.520081}},{"name":"reroute_9","type":"reroute","parameters":{},"node_position":{"x":6103.131348,"y":-1730.933472},"seed":0,"seed_locked":false},{"name":"comment_10","type":"comment","parameters":{},"node_position":{"x":5404.789551,"y":-2927.523193},"seed":0,"seed_locked":false,"title":"Paint strokes grunge","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":1325.79248,"y":398.611084}},{"name":"reroute_10","type":"reroute","parameters":{},"node_position":{"x":7123.508789,"y":-2736.037109},"seed":0,"seed_locked":false},{"name":"comment_11","type":"comment","parameters":{},"node_position":{"x":8222.026367,"y":-1652.743652},"seed":0,"seed_locked":false,"title":"Dirt in crevices","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":553.847168,"y":206.518677}},{"name":"comment_12","type":"comment","parameters":{},"node_position":{"x":5382.789551,"y":-3013.416016},"seed":0,"seed_locked":false,"title":"Albedo","color":{"type":"Color","r":0,"g":0,"b":0,"a":1},"text":"","size":{"x":3884.783691,"y":1742.241943}}],"connections":[{"from":"fill_to_gradient_2","from_port":0,"to":"blend_2","to_port":0},{"from":"blend","from_port":0,"to":"blend_2","to_port":1},{"from":"fill_to_gradient","from_port":0,"to":"blend","to_port":1},{"from":"tones","from_port":0,"to":"blend","to_port":0},{"from":"fill_to_gradient_3","from_port":0,"to":"blend_3","to_port":0},{"from":"fill_to_random_color","from_port":0,"to":"decompose","to_port":0},{"from":"blend_3","from_port":0,"to":"blend_7","to_port":1},{"from":"blend_7","from_port":0,"to":"blend_5","to_port":1},{"from":"blend_2","from_port":0,"to":"multi_warp","to_port":0},{"from":"fbm2","from_port":0,"to":"multi_warp","to_port":1},{"from":"multi_warp","from_port":0,"to":"blend_4","to_port":1},{"from":"blend_5","from_port":0,"to":"uniform_greyscale","to_port":0},{"from":"blend_4","from_port":0,"to":"auto_tones","to_port":0},{"from":"auto_tones","from_port":0,"to":"blend_3","to_port":1},{"from":"crystal","from_port":0,"to":"warp","to_port":1},{"from":"tones_5","from_port":0,"to":"bricks_uneven4","to_port":2},{"from":"shape_2","from_port":0,"to":"math","to_port":0},{"from":"warp","from_port":0,"to":"blend_9","to_port":1},{"from":"math","from_port":0,"to":"tiler","to_port":0},{"from":"tiler","from_port":0,"to":"blend_9","to_port":0},{"from":"bricks_uneven4","from_port":0,"to":"tonality","to_port":0},{"from":"tonality","from_port":0,"to":"tones","to_port":0},{"from":"graph_2","from_port":0,"to":"gaussian_blur","to_port":0},{"from":"gaussian_blur","from_port":0,"to":"multi_warp_2","to_port":0},{"from":"gaussian_blur","from_port":0,"to":"transform2","to_port":0},{"from":"transform2","from_port":0,"to":"multi_warp_2","to_port":1},{"from":"multi_warp_2","from_port":0,"to":"make_tileable_square","to_port":0},{"from":"make_tileable_square","from_port":0,"to":"buffer_3","to_port":0},{"from":"buffer_3","from_port":0,"to":"tones_6","to_port":0},{"from":"tones_6","from_port":0,"to":"alter_hsv","to_port":1},{"from":"buffer_2","from_port":0,"to":"smooth_curvature2","to_port":0},{"from":"buffer_3","from_port":0,"to":"transform2_3","to_port":0},{"from":"occlusion2","from_port":0,"to":"tones_7","to_port":0},{"from":"transform2_3","from_port":0,"to":"blend_11","to_port":0},{"from":"tones_7","from_port":0,"to":"blend_11","to_port":1},{"from":"fbm2_3","from_port":0,"to":"multi_warp_3","to_port":1},{"from":"multi_warp_3","from_port":0,"to":"blend_10","to_port":0},{"from":"smooth_curvature2","from_port":0,"to":"graph_3","to_port":0},{"from":"buffer_2","from_port":0,"to":"tones_step","to_port":0},{"from":"tones_step","from_port":0,"to":"blend_10","to_port":2},{"from":"blend_10","from_port":0,"to":"blend_12","to_port":1},{"from":"graph_3","from_port":1,"to":"blend_12","to_port":0},{"from":"blend_12","from_port":0,"to":"Material","to_port":0},{"from":"fbm2_4","from_port":0,"to":"tones_8","to_port":0},{"from":"tones_8","from_port":0,"to":"bricks_uneven4","to_port":1},{"from":"buffer_3","from_port":0,"to":"colorize","to_port":0},{"from":"colorize","from_port":0,"to":"alter_hsv","to_port":0},{"from":"graph_6","from_port":0,"to":"Material","to_port":5},{"from":"buffer_2","from_port":0,"to":"normal_map2","to_port":0},{"from":"smooth_curvature2_2","from_port":0,"to":"tones_range","to_port":0},{"from":"uniform_greyscale","from_port":0,"to":"warp","to_port":0},{"from":"normal_map2","from_port":0,"to":"normal_map_convert_3","to_port":0},{"from":"normal_map_convert_3","from_port":0,"to":"smooth_curvature2_2","to_port":0},{"from":"tones_range","from_port":0,"to":"colorize_2","to_port":0},{"from":"colorize_2","from_port":0,"to":"multi_warp_3","to_port":0},{"from":"tones_step_2","from_port":0,"to":"blend_13","to_port":0},{"from":"occlusion2_2","from_port":0,"to":"blend_13","to_port":1},{"from":"alter_hsv","from_port":0,"to":"blend_14","to_port":1},{"from":"blend_14","from_port":0,"to":"blend_10","to_port":1},{"from":"fbm2_5","from_port":0,"to":"multi_warp_5","to_port":1},{"from":"multi_warp_5","from_port":0,"to":"invert_3","to_port":0},{"from":"blend_11","from_port":0,"to":"blend_15","to_port":1},{"from":"blend_15","from_port":0,"to":"Material","to_port":2},{"from":"colorize_3","from_port":0,"to":"blend_14","to_port":0},{"from":"blend_9","from_port":0,"to":"blend_16","to_port":1},{"from":"blend_16","from_port":0,"to":"buffer_2","to_port":0},{"from":"fbm2_6","from_port":0,"to":"tones_9","to_port":0},{"from":"tones_9","from_port":0,"to":"blend_16","to_port":0},{"from":"blend_16","from_port":0,"to":"math_2","to_port":1},{"from":"tones_9","from_port":0,"to":"math_2","to_port":0},{"from":"blend_13","from_port":0,"to":"blend_17","to_port":0},{"from":"blend_17","from_port":0,"to":"multi_warp_5","to_port":0},{"from":"invert_3","from_port":0,"to":"blend_14","to_port":2},{"from":"invert_3","from_port":0,"to":"blend_15","to_port":0},{"from":"buffer_3","from_port":0,"to":"transform2_6","to_port":0},{"from":"transform2_6","from_port":0,"to":"colorize_3","to_port":0},{"from":"fbm2_4","from_port":0,"to":"tones_5","to_port":0},{"from":"bricks_uneven4","from_port":1,"to":"reroute","to_port":0},{"from":"reroute","from_port":0,"to":"fill_to_random_color","to_port":0},{"from":"bricks_uneven4","from_port":1,"to":"reroute_3","to_port":0},{"from":"reroute_3","from_port":0,"to":"fill_to_gradient_3","to_port":0},{"from":"tones_2","from_port":0,"to":"blend_4","to_port":0},{"from":"gradient_2","from_port":0,"to":"blend_6","to_port":0},{"from":"transform2_2","from_port":0,"to":"blend_6","to_port":1},{"from":"tiler_2","from_port":0,"to":"multi_warp_4","to_port":0},{"from":"fbm2_7","from_port":0,"to":"multi_warp_4","to_port":1},{"from":"blend_6","from_port":0,"to":"tiler_2","to_port":0},{"from":"rotate","from_port":0,"to":"transform2_2","to_port":0},{"from":"shape","from_port":0,"to":"rotate","to_port":0},{"from":"bricks_uneven4","from_port":0,"to":"invert","to_port":0},{"from":"tones_3","from_port":0,"to":"shader_2","to_port":2},{"from":"invert","from_port":0,"to":"gaussian_blur_6","to_port":0},{"from":"gaussian_blur_6","from_port":0,"to":"tones_3","to_port":0},{"from":"fill_to_uv","from_port":0,"to":"math_v3","to_port":0},{"from":"fill_to_random_color","from_port":0,"to":"math_v3","to_port":1},{"from":"math_v3","from_port":0,"to":"custom_uv","to_port":1},{"from":"transform2_4","from_port":0,"to":"custom_uv","to_port":0},{"from":"decompose","from_port":2,"to":"blend_8","to_port":0},{"from":"custom_uv","from_port":0,"to":"blend_8","to_port":1},{"from":"blend_8","from_port":0,"to":"tones_2","to_port":0},{"from":"multi_warp_4","from_port":0,"to":"transform2_4","to_port":0},{"from":"transform2_5","from_port":0,"to":"transform2_4","to_port":1},{"from":"transform2_5","from_port":0,"to":"transform2_4","to_port":2},{"from":"multi_warp_4","from_port":0,"to":"transform2_5","to_port":0},{"from":"fbm2_8","from_port":0,"to":"multi_warp_6","to_port":1},{"from":"shader_2","from_port":0,"to":"multi_warp_6","to_port":0},{"from":"multi_warp_6","from_port":0,"to":"tones_4","to_port":0},{"from":"reroute","from_port":0,"to":"fill_to_uv","to_port":0},{"from":"reroute","from_port":0,"to":"reroute_2","to_port":0},{"from":"reroute_2","from_port":0,"to":"shader_2","to_port":0},{"from":"reroute","from_port":0,"to":"reroute_4","to_port":0},{"from":"reroute_4","from_port":0,"to":"fill_to_gradient_2","to_port":0},{"from":"reroute_4","from_port":0,"to":"fill_to_gradient","to_port":0},{"from":"tones_4","from_port":0,"to":"reroute_5","to_port":0},{"from":"reroute_5","from_port":0,"to":"blend_7","to_port":0},{"from":"decompose","from_port":1,"to":"reroute_6","to_port":0},{"from":"reroute_6","from_port":0,"to":"blend_5","to_port":0},{"from":"normal_map2_2","from_port":0,"to":"Material","to_port":4},{"from":"invert_2","from_port":0,"to":"Material","to_port":6},{"from":"buffer_2","from_port":0,"to":"reroute_7","to_port":0},{"from":"reroute_7","from_port":0,"to":"occlusion2_2","to_port":0},{"from":"reroute_7","from_port":0,"to":"tones_step_2","to_port":0},{"from":"buffer_2","from_port":0,"to":"reroute_8","to_port":0},{"from":"reroute_8","from_port":0,"to":"invert_2","to_port":0},{"from":"reroute_8","from_port":0,"to":"normal_map2_2","to_port":0},{"from":"reroute_8","from_port":0,"to":"graph_6","to_port":0},{"from":"reroute_8","from_port":0,"to":"occlusion2","to_port":0},{"from":"reroute_7","from_port":0,"to":"reroute_9","to_port":0},{"from":"reroute_9","from_port":0,"to":"blend_17","to_port":1},{"from":"buffer_3","from_port":0,"to":"reroute_10","to_port":0},{"from":"reroute_10","from_port":0,"to":"alter_hsv","to_port":2},{"from":"reroute_10","from_port":0,"to":"alter_hsv","to_port":3}]}