{"name":"286","type":"graph","parameters":{},"node_position":{"x":0,"y":0},"label":"Graph","shortdesc":"","longdesc":"","nodes":[{"name":"Material","type":"material","parameters":{"albedo_color":{"type":"Color","r":1,"g":1,"b":1,"a":1},"metallic":0,"roughness":1,"emission_energy":1,"normal":1,"ao":1,"depth_scale":0.3,"flags_transparent":false,"sss":0,"size":11},"node_position":{"x":3419.331055,"y":-182.59874},"export_paths":{}},{"name":"graph_2","type":"graph","parameters":{"param0":10,"param1":{"type":"Gradient","points":[{"pos":0,"r":0.4375,"g":0.271608,"b":0.138428,"a":1},{"pos":1,"r":0.378906,"g":0.239222,"b":0.155411,"a":1}],"interpolation":1},"param2":{"type":"Gradient","points":[{"pos":0,"r":0.238281,"g":0.159164,"b":0.159164,"a":1},{"pos":0.503322,"r":0.5,"g":0.5,"b":0.5,"a":1},{"pos":1,"r":0.964844,"g":0.654791,"b":0.354279,"a":1}],"interpolation":1},"param3":4,"param4":2},"node_position":{"x":2953.246094,"y":-140.859299},"label":"Stylized wooden floor","shortdesc":"","longdesc":"","nodes":[{"name":"gradient_2","type":"gradient","parameters":{"repeat":1,"rotate":90,"gradient":{"type":"Gradient","points":[{"pos":0,"r":1,"g":1,"b":1,"a":1},{"pos":0.507332,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":3}},"node_position":{"x":-748.084473,"y":400.870056}},{"name":"blend_6","type":"blend","parameters":{"blend_type":2,"amount":0.12},"node_position":{"x":332.759003,"y":-40.956871}},{"name":"gradient","type":"gradient","parameters":{"repeat":1,"rotate":0,"gradient":{"type":"Gradient","points":[{"pos":0,"r":1,"g":1,"b":1,"a":1},{"pos":0.507332,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":3}},"node_position":{"x":-748.122192,"y":264.634308}},{"name":"blend_5","type":"blend","parameters":{"blend_type":2,"amount":0.05},"node_position":{"x":74.897842,"y":-8.86531}},{"name":"invert_4","type":"invert","parameters":{},"node_position":{"x":-1096.838257,"y":109.406822}},{"name":"blend_4","type":"blend","parameters":{"blend_type":2,"amount":0.05},"node_position":{"x":-189.212143,"y":-21.7192}},{"name":"transform2_2","type":"transform2","parameters":{"translate_x":0.02,"translate_y":0,"rotate":0,"scale_x":1,"scale_y":1,"mode":1},"node_position":{"x":-733.731384,"y":827.775513}},{"name":"noise_anisotropic","type":"noise_anisotropic","parameters":{"scale_x":5,"scale_y":886,"smoothness":1,"interpolation":0.9},"node_position":{"x":-1681.400024,"y":894.31073}},{"name":"gaussian_blur_2","type":"gaussian_blur","parameters":{"param0":10,"param1":3,"param2":0},"node_position":{"x":-1256.957153,"y":732.044556}},{"name":"tones_step_5","type":"tones_step","parameters":{"value":0.33,"width":0.36,"invert":false},"node_position":{"x":-989.148315,"y":868.331299}},{"name":"fbm2_3","type":"fbm2","parameters":{"noise":1,"scale_x":2,"scale_y":2,"folds":0,"iterations":4,"persistence":0.5},"node_position":{"x":-1029.276855,"y":1000.518921}},{"name":"rotate_2","type":"rotate","parameters":{"cx":0,"cy":0,"rotate":90},"node_position":{"x":-1377.449707,"y":920.262207}},{"name":"gaussian_blur","type":"gaussian_blur","parameters":{"param0":10,"param1":5,"param2":0},"node_position":{"x":-560.947388,"y":-322.330872}},{"name":"tonality","type":"tonality","parameters":{"curve":{"type":"Curve","points":[{"x":0,"y":0,"ls":0,"rs":-0.043478},{"x":1,"y":1,"ls":2.352941,"rs":-0}]}},"node_position":{"x":-704.712158,"y":-300.789307}},{"name":"invert_3","type":"invert","parameters":{},"node_position":{"x":-1128.902222,"y":-257.326294}},{"name":"dilate","type":"dilate","parameters":{"param0":10,"param1":0.03,"param2":0,"param3":0},"node_position":{"x":-969.032349,"y":-301.317291}},{"name":"decompose","type":"decompose","parameters":{},"node_position":{"x":-1074.181763,"y":-100.811272}},{"name":"invert","type":"invert","parameters":{},"node_position":{"x":2404.918701,"y":125.675278}},{"name":"normal_map","type":"normal_map","parameters":{"param2":0,"param0":10,"param1":1,"param4":1},"node_position":{"x":2348.918701,"y":-27.324705}},{"name":"bricks","type":"bricks","parameters":{"pattern":2,"repeat":2,"rows":4,"columns":4,"row_offset":0.55,"mortar":0,"bevel":0.01,"round":0,"corner":0},"node_position":{"x":-1440.404785,"y":34.580891}},{"name":"blend_7","type":"blend","parameters":{"blend_type":2,"amount":0.12},"node_position":{"x":639.317261,"y":-32.618496}},{"name":"graph_6","type":"graph","parameters":{"param0":10,"param1":0.2,"param2":15,"param3":0.1,"param4":4,"param5":1},"node_position":{"x":2333.790039,"y":253.208084},"label":"HBAO","shortdesc":"","longdesc":"","nodes":[{"name":"voronoi_3","type":"shader","parameters":{"radius":0.2,"angleBiasDeg":15,"intensity":1,"depth_scale":0.1,"quality":4},"node_position":{"x":-722.80072,"y":-1093.601807},"shader_model":{"code":"","global":"","inputs":[{"default":"0.0","function":true,"label":"","name":"in","type":"f"}],"instance":"//inspired by:\n//http://developer.download.nvidia.com/presentations/2008/SIGGRAPH/HBAO_SIG08b.pdf\n//https://gist.github.com/dotModded/981206ae1f4e760b7348\n//https://github.com/scanberg/hbao/blob/master/resources/shaders/hbao_full_frag.glsl\n//radius - radius of influence in screen space\n//angleBiasDeg - ~minimum angle for AO\n//intensity - increase strength of caclulated AO\n//noiseScale - for randomization values\nfloat $(name)_hbao(vec2 uv, float radius, float angleBiasDeg, float intensity, vec2 noiseScale) {\n  int samplig_directions = 8;\n  int steps = int($quality);\n\n  float angleBias = 0.0174532925 * angleBiasDeg;\n\n  vec3 c_point = vec3(uv*2.0 - 1.0, $in(uv)*$depth_scale);\n  //fun with dfdx & dfdy - https://community.khronos.org/t/getting-the-normal-with-dfdx-and-dfdy/70177\n  vec3 c_normal = normalize(cross(dFdx(c_point), dFdy(c_point)));\n\n\n  float cosMaxRot = cos(6.28318530718 / float(samplig_directions));\n  float sinMaxROt = sin(6.28318530718 / float(samplig_directions));\n  \n  // it should be faster than standard rotation in each iteartion\n  mat2 deltaRotationMatrix = mat2(\n    vec2(cosMaxRot, -sinMaxROt),\n    vec2(sinMaxROt, cosMaxRot)\n  );\n  \n  // calculate starting offset, as the smallest step\n  vec2 offset_uv = vec2(1.0, 0.0) * (radius /float(steps));\n\n  //randomize angle\n  vec3 sampleNoise    = rand3(uv * noiseScale);\n  sampleNoise.xy      = sampleNoise.xy * 2.0 - vec2(1.0);\n  mat2 rotationMatrix = mat2(vec2(sampleNoise.x, -sampleNoise.y), \n                             vec2(sampleNoise.y,  sampleNoise.x));\n  \n  // apply a random rotation to the base step vector\n  offset_uv = rotationMatrix * offset_uv;\n  \n  float jitter = sampleNoise.z;\n  float occlusion = 0.0;\n  \n  for (int i = 0; i < samplig_directions; ++i) {\n    // incrementally rotate sample direction\n    offset_uv = deltaRotationMatrix * offset_uv;\n    float oldAngle   = angleBias;\n    for (int j = 0; j < steps; ++j) {\n      //add jitter & distance to offset UV\n      vec2 sample_uv     = uv + (jitter + float(j)) * offset_uv;\n      vec3 s_point     = vec3(sample_uv*2.0 - 1.0, $in(sample_uv)*$depth_scale);\n      vec3 sample_tan  = (s_point - c_point); //not sure if correct, but looks ok\n      // 90 deg - (angle between normal from current point &  sampled tangent)\n      //https://math.stackexchange.com/questions/654315/how-to-convert-a-dot-product-of-two-vectors-to-the-angle-between-the-vectors\n      float gamma = 1.57079632679 - acos(dot(c_normal, normalize(sample_tan)));\n      \n      if (gamma > oldAngle) {\n        float value = sin(gamma) - sin(oldAngle);\n        float attenuation = clamp(1.0 - pow(length(sample_tan.xy)/radius, 2.0), 0.0, 1.0);\n        occlusion += attenuation * value;\n\t\t//occlusion += value;\n        oldAngle = gamma;\n      }\n    }\n  }\n  \n  occlusion = 1.0 - occlusion / float(samplig_directions);\n  return clamp(pow(occlusion, 1.0 + intensity), 0.0, 1.0);\n}","longdesc":"A node that generates several images from a tileable voronoi noise","name":"HBAO","outputs":[{"f":"$(name)_hbao($uv,$radius, $angleBiasDeg, $intensity, vec2(16.0,16.0))","longdesc":"A color pattern that assigns a random color to each cell","shortdesc":"Random color","type":"f"}],"parameters":[{"control":"None","default":0.01,"label":"Radius","longdesc":"The scale along the X axis","max":1,"min":0,"name":"radius","shortdesc":"Scale.x","step":0.01,"type":"float"},{"control":"None","default":30,"label":"Angle Bias","longdesc":"The scale along the Y axis","max":90,"min":0,"name":"angleBiasDeg","shortdesc":"Scale.y","step":1,"type":"float"},{"control":"None","default":0.2,"label":"Intensity","longdesc":"A value factor for greyscale outputs","max":5,"min":0,"name":"intensity","shortdesc":"Intensity","step":0.01,"type":"float"},{"control":"None","default":1,"label":"Depth Scale","max":1,"min":0,"name":"depth_scale","step":0.01,"type":"float"},{"control":"None","default":4,"label":"Quality","max":12,"min":1,"name":"quality","step":1,"type":"float"}],"shortdesc":"Voronoi Noise"}},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-1338.030762,"y":-788.080872},"ports":[{"group_size":0,"name":"port0","type":"rgba"}]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":-902.684204,"y":-327.282288},"ports":[{"group_size":0,"name":"port0","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":10,"param1":0.2,"param2":15,"param3":0.1,"param4":4,"param5":1},"node_position":{"x":-1488.979004,"y":-561.71167},"widgets":[{"label":"Size","linked_widgets":[{"node":"voronoi_2","widget":"size"},{"node":"buffer_2","widget":"size"},{"node":"buffer_5","widget":"size"},{"node":"buffer_7","widget":"size"}],"name":"param0","type":"linked_control"},{"label":"Radius","linked_widgets":[{"node":"voronoi_3","widget":"radius"}],"longdesc":"Affected radius of point in UV size","name":"param1","type":"linked_control"},{"label":"Angle Bias","linked_widgets":[{"node":"voronoi_3","widget":"angleBiasDeg"}],"longdesc":"Angle bias","name":"param2","type":"linked_control"},{"label":"Depth Scale","linked_widgets":[{"node":"voronoi_3","widget":"depth_scale"}],"longdesc":"Lineary scales depth values afecting  cacluated normals & tangents","name":"param3","type":"linked_control"},{"label":"Steps","linked_widgets":[{"node":"voronoi_3","widget":"quality"}],"longdesc":"Number of steps per direction sampling","name":"param4","type":"linked_control"},{"label":"Intensity","linked_widgets":[{"node":"voronoi_3","widget":"intensity"}],"longdesc":"Increase intesity of calculated AO","name":"param5","type":"linked_control"}]},{"name":"voronoi_2","type":"shader","parameters":{"size":10,"sigma":3,"ksigma":4,"threshold":0.7},"node_position":{"x":-959.111145,"y":-611.459534},"shader_model":{"code":"","global":"","inputs":[{"default":"0.0","function":true,"label":"","name":"in","type":"rgba"}],"instance":"//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n//  Copyright (c) 2018-2019 Michele Morrone\n//  All rights reserved.\n//\n//  https://michelemorrone.eu - https://BrutPitt.com\n//\n//  me@michelemorrone.eu - brutpitt@gmail.com\n//  twitter: @BrutPitt - github: BrutPitt\n//  \n//  https://github.com/BrutPitt/glslSmartDeNoise/\n//\n//  This software is distributed under the terms of the BSD 2-Clause license\n//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n//  smartDeNoise - parameters\n//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n//\n//  sampler2D tex     - sampler image / texture\n//  vec2 uv           - actual fragment coord\n//  float sigma  >  0 - sigma Standard Deviation\n//  float kSigma >= 0 - sigma coefficient \n//      kSigma * sigma  -->  radius of the circular kernel\n//  float threshold   - edge sharpening threshold \nvec4 $(name)_smartDeNoise(vec2 uv, float sigma, float kSigma, float threshold)\n{\n\tfloat INV_SQRT_OF_2PI = 0.39894228040143267793994605993439; // 1.0/SQRT_OF_2PI\n\tfloat INV_PI = 0.31830988618379067153776752674503;\n    float radius = round(kSigma*sigma);\n    float radQ = radius * radius;\n\n    float invSigmaQx2 = .5 / (sigma * sigma);      // 1.0 / (sigma^2 * 2.0)\n    float invSigmaQx2PI = INV_PI * invSigmaQx2;    // 1/(2 * PI * sigma^2)\n\n    float invThresholdSqx2 = .5 / (threshold * threshold);     // 1.0 / (sigma^2 * 2.0)\n    float invThresholdSqrt2PI = INV_SQRT_OF_2PI / threshold;   // 1.0 / (sqrt(2*PI) * sigma^2)\n\n    vec4 centrPx = $in(uv); \n\n    float zBuff = 0.0;\n    vec4 aBuff = vec4(0.0);\n    vec2 size = vec2($size, $size);\n\n    vec2 d;\n    for (d.x=-radius; d.x <= radius; d.x++) {\n        float pt = sqrt(radQ-d.x*d.x);       // pt = yRadius: have circular trend\n        for (d.y=-pt; d.y <= pt; d.y++) {\n            float blurFactor = exp( -dot(d , d) * invSigmaQx2 ) * invSigmaQx2PI;\n\n            vec4 walkPx =  $in(uv+d/size);\n            vec4 dC = walkPx-centrPx;\n            float deltaFactor = exp( -dot(dC, dC) * invThresholdSqx2) * invThresholdSqrt2PI * blurFactor;\n\n            zBuff += deltaFactor;\n            aBuff += deltaFactor*walkPx;\n        }\n    }\n    return aBuff/zBuff;\n}","longdesc":"A node that generates several images from a tileable voronoi noise","name":"Denoiser","outputs":[{"longdesc":"A color pattern that assigns a random color to each cell","rgba":"$(name)_smartDeNoise($uv, $sigma, $ksigma, $threshold)","shortdesc":"Random color","type":"rgba"}],"parameters":[{"default":10,"first":0,"label":"size","last":12,"longdesc":"The scale along the X axis","name":"size","shortdesc":"Scale.x","type":"size"},{"control":"None","default":0.5,"label":"Sigma","max":1,"min":0.005,"name":"sigma","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"kSigma","max":1,"min":0,"name":"ksigma","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"threshold","max":1,"min":0,"name":"threshold","step":0.1,"type":"float"}],"shortdesc":"Voronoi Noise"}},{"name":"buffer_5","type":"buffer","parameters":{"size":10},"node_position":{"x":-955.449646,"y":-728.330017},"version":1},{"name":"buffer_7","type":"buffer","parameters":{"size":10},"node_position":{"x":-948.36377,"y":-449.796295},"version":1},{"name":"buffer_2","type":"buffer","parameters":{"size":10},"node_position":{"x":-976.009644,"y":-975.5},"version":1}],"connections":[{"from":"voronoi_3","from_port":0,"to":"buffer_5","to_port":0},{"from":"voronoi_2","from_port":0,"to":"buffer_7","to_port":0},{"from":"buffer_7","from_port":0,"to":"gen_outputs","to_port":0},{"from":"gen_inputs","from_port":0,"to":"buffer_2","to_port":0},{"from":"buffer_2","from_port":0,"to":"voronoi_3","to_port":0},{"from":"buffer_5","from_port":0,"to":"voronoi_2","to_port":0}]},{"name":"buffer_3","type":"buffer","parameters":{"size":10},"node_position":{"x":2246.663574,"y":-714.759094},"version":1},{"name":"tones","type":"tones","parameters":{"in_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"in_mid":{"type":"Color","r":0.5,"g":0.5,"b":0.5,"a":0.5},"in_max":{"type":"Color","r":1,"g":1,"b":1,"a":1},"out_min":{"type":"Color","r":0.3622,"g":0.3622,"b":0.3622,"a":0},"out_max":{"type":"Color","r":0.749197,"g":0.749197,"b":0.749197,"a":1}},"node_position":{"x":2775.839355,"y":-654.523071}},{"name":"smooth_curvature","type":"smooth_curvature","parameters":{"param0":10,"param2":1},"node_position":{"x":2048.918701,"y":-289.324738}},{"name":"invert_5","type":"invert","parameters":{},"node_position":{"x":2699.868408,"y":-433.54007}},{"name":"blend_3","type":"blend","parameters":{"blend_type":2,"amount":0.01},"node_position":{"x":-519.804688,"y":-50.597439}},{"name":"graph","type":"graph","parameters":{"param0":2,"param4":15,"param5":0.62,"param2":3,"param6":3,"param1":0.5,"param3":0.46},"node_position":{"x":1950.815796,"y":-731.687744},"label":"Plain Grunge","shortdesc":"","longdesc":"","nodes":[{"name":"791_3","type":"shader","parameters":{"blend_type":8,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":-0.5,"warp_y":-0.5,"warp_strength":2},"node_position":{"x":-300,"y":80},"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-1200,"y":-200},"preview":0,"minimized":true},{"name":"fbm","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-1200,"y":0},"preview":0,"minimized":true},{"name":"graph_2","type":"graph","parameters":{"param0":1,"param1":3,"param2":3,"param3":0,"param4":15,"param5":0.62},"node_position":{"x":-1200,"y":200},"preview":0,"minimized":true,"label":"FBM Vec","shortdesc":"","longdesc":"","nodes":[{"name":"fbm_3","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-495.760742,"y":1025.774536}},{"name":"fbm_4","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-497.094055,"y":1196.270996}},{"name":"fbm_5","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-497.094086,"y":1364.103638}},{"name":"combine","type":"combine","parameters":{},"node_position":{"x":294.405914,"y":1146.736694}},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-971.094116,"y":1119.45166},"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":502.405945,"y":1152.739136},"ports":[{"group_size":0,"name":"unnamed","type":"rgb"},{"group_size":0,"name":"unnamed","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":1,"param1":3,"param2":3,"param3":0,"param4":15,"param5":0.62},"node_position":{"x":-863.885681,"y":1508.326782},"widgets":[{"label":"Noise","linked_widgets":[{"node":"fbm_3","widget":"noise"},{"node":"fbm_4","widget":"noise"},{"node":"fbm_5","widget":"noise"},{"node":"fbm_2","widget":"noise"}],"name":"param0","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"fbm_3","widget":"scale_x"},{"node":"fbm_4","widget":"scale_x"},{"node":"fbm_5","widget":"scale_x"},{"node":"fbm_2","widget":"scale_x"}],"name":"param1","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_3","widget":"scale_y"},{"node":"fbm_4","widget":"scale_y"},{"node":"fbm_5","widget":"scale_y"},{"node":"fbm_2","widget":"scale_y"}],"name":"param2","type":"linked_control"},{"label":"Folds","linked_widgets":[{"node":"fbm_3","widget":"folds"},{"node":"fbm_4","widget":"folds"},{"node":"fbm_5","widget":"folds"},{"node":"fbm_2","widget":"folds"}],"name":"param3","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_3","widget":"iterations"},{"node":"fbm_4","widget":"iterations"},{"node":"fbm_5","widget":"iterations"},{"node":"fbm_2","widget":"iterations"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_3","widget":"persistence"},{"node":"fbm_4","widget":"persistence"},{"node":"fbm_5","widget":"persistence"},{"node":"fbm_2","widget":"persistence"}],"name":"param5","type":"linked_control"}]},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-495.298431,"y":1543.288208}},{"name":"combine_2","type":"combine","parameters":{},"node_position":{"x":292.968933,"y":1276.987427}}],"connections":[{"from":"combine","from_port":0,"to":"gen_outputs","to_port":0},{"from":"fbm_5","from_port":0,"to":"combine","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine","to_port":0},{"from":"fbm_2","from_port":0,"to":"combine_2","to_port":3},{"from":"fbm_5","from_port":0,"to":"combine_2","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine_2","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine_2","to_port":0},{"from":"combine_2","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"791_2","type":"shader","parameters":{"blend_type":7,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":0.5,"warp_strength":2},"node_position":{"x":-300,"y":-120},"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"791_4","type":"shader","parameters":{"blend_type":4,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":-0.5,"warp_strength":2},"node_position":{"x":460,"y":-40},"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n\nfloat $(name_uv)_blend_1 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\nfloat $(name_uv)_blend_2 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgba"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle Extended","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2),  $m_opacity*$(name_uv)_blend_1 )","shortdesc":"Output","type":"rgb"},{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_2),  $in_2($(name_uv)_warp_1),  $m_opacity*$(name_uv)_blend_2 )","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle Extended"}},{"name":"blend","type":"blend","parameters":{"blend_type":7,"amount":1},"node_position":{"x":1000,"y":-40}},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-1479.069092,"y":-1.328649},"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":1600,"y":-40},"ports":[{"group_size":0,"name":"Heights","type":"f"},{"group_size":0,"name":"Colors","type":"rgb"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":2,"param4":15,"param5":0.62,"param2":3,"param6":3,"param1":0.5,"param3":0.46},"node_position":{"x":1605.008667,"y":149.425598},"widgets":[{"label":"Warp","linked_widgets":[{"node":"791_2","widget":"warp_strength"},{"node":"791_3","widget":"warp_strength"},{"node":"791_4","widget":"warp_strength"},{"node":"791_6","widget":"warp_strength"},{"node":"791_5","widget":"warp_strength"},{"node":"791_7","widget":"warp_strength"}],"name":"param0","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_2","widget":"iterations"},{"node":"fbm","widget":"iterations"},{"node":"graph_2","widget":"param4"},{"node":"graph_3","widget":"param4"},{"node":"graph_4","widget":"param4"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_2","widget":"persistence"},{"node":"fbm","widget":"persistence"},{"node":"graph_2","widget":"param5"},{"node":"graph_3","widget":"param5"},{"node":"graph_4","widget":"param5"}],"name":"param5","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"graph_2","widget":"param1"},{"node":"graph_4","widget":"param1"},{"node":"fbm_2","widget":"scale_x"},{"node":"fbm","widget":"scale_y"},{"node":"graph_3","widget":"param2"}],"name":"param2","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_2","widget":"scale_y"},{"node":"fbm","widget":"scale_x"},{"node":"graph_2","widget":"param2"},{"node":"graph_3","widget":"param1"},{"node":"graph_4","widget":"param2"}],"name":"param6","type":"linked_control"},{"label":"Level","linked_widgets":[{"node":"tones_step","widget":"value"},{"node":"tones_step_2","widget":"value"},{"node":"tones_step_4","widget":"value"},{"node":"tones_step_3","widget":"value"}],"name":"param1","type":"linked_control"},{"label":"Smooth","linked_widgets":[{"node":"tones_step","widget":"width"},{"node":"tones_step_2","widget":"width"},{"node":"tones_step_4","widget":"width"},{"node":"tones_step_3","widget":"width"}],"name":"param3","type":"linked_control"}]},{"name":"graph_3","type":"graph","parameters":{"param0":1,"param1":3,"param2":3,"param3":0,"param4":15,"param5":0.62},"node_position":{"x":-1200,"y":400},"preview":0,"minimized":true,"label":"FBM Vec","shortdesc":"","longdesc":"","nodes":[{"name":"fbm_3","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-495.760742,"y":1025.774536}},{"name":"fbm_4","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-497.094055,"y":1196.270996}},{"name":"fbm_5","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-497.094086,"y":1364.103638}},{"name":"combine","type":"combine","parameters":{},"node_position":{"x":294.405914,"y":1146.736694}},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-971.094116,"y":1119.45166},"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":502.405945,"y":1152.739136},"ports":[{"group_size":0,"name":"unnamed","type":"rgb"},{"group_size":0,"name":"unnamed","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":1,"param1":3,"param2":3,"param3":0,"param4":15,"param5":0.62},"node_position":{"x":-863.885681,"y":1508.326782},"widgets":[{"label":"Noise","linked_widgets":[{"node":"fbm_3","widget":"noise"},{"node":"fbm_4","widget":"noise"},{"node":"fbm_5","widget":"noise"},{"node":"fbm_2","widget":"noise"}],"name":"param0","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"fbm_3","widget":"scale_x"},{"node":"fbm_4","widget":"scale_x"},{"node":"fbm_5","widget":"scale_x"},{"node":"fbm_2","widget":"scale_x"}],"name":"param1","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_3","widget":"scale_y"},{"node":"fbm_4","widget":"scale_y"},{"node":"fbm_5","widget":"scale_y"},{"node":"fbm_2","widget":"scale_y"}],"name":"param2","type":"linked_control"},{"label":"Folds","linked_widgets":[{"node":"fbm_3","widget":"folds"},{"node":"fbm_4","widget":"folds"},{"node":"fbm_5","widget":"folds"},{"node":"fbm_2","widget":"folds"}],"name":"param3","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_3","widget":"iterations"},{"node":"fbm_4","widget":"iterations"},{"node":"fbm_5","widget":"iterations"},{"node":"fbm_2","widget":"iterations"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_3","widget":"persistence"},{"node":"fbm_4","widget":"persistence"},{"node":"fbm_5","widget":"persistence"},{"node":"fbm_2","widget":"persistence"}],"name":"param5","type":"linked_control"}]},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-495.298431,"y":1543.288208}},{"name":"combine_2","type":"combine","parameters":{},"node_position":{"x":292.968933,"y":1276.987427}}],"connections":[{"from":"combine","from_port":0,"to":"gen_outputs","to_port":0},{"from":"fbm_5","from_port":0,"to":"combine","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine","to_port":0},{"from":"fbm_2","from_port":0,"to":"combine_2","to_port":3},{"from":"fbm_5","from_port":0,"to":"combine_2","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine_2","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine_2","to_port":0},{"from":"combine_2","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"graph_4","type":"graph","parameters":{"param0":1,"param1":3,"param2":3,"param3":0,"param4":15,"param5":0.62},"node_position":{"x":-1200,"y":600},"preview":0,"minimized":true,"label":"FBM Vec","shortdesc":"","longdesc":"","nodes":[{"name":"fbm_3","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-495.760742,"y":1025.774536}},{"name":"fbm_4","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-497.094055,"y":1196.270996}},{"name":"fbm_5","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-497.094086,"y":1364.103638}},{"name":"combine","type":"combine","parameters":{},"node_position":{"x":294.405914,"y":1146.736694}},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-971.094116,"y":1119.45166},"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":502.405945,"y":1152.739136},"ports":[{"group_size":0,"name":"unnamed","type":"rgb"},{"group_size":0,"name":"unnamed","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":1,"param1":3,"param2":3,"param3":0,"param4":15,"param5":0.62},"node_position":{"x":-863.885681,"y":1508.326782},"widgets":[{"label":"Noise","linked_widgets":[{"node":"fbm_3","widget":"noise"},{"node":"fbm_4","widget":"noise"},{"node":"fbm_5","widget":"noise"},{"node":"fbm_2","widget":"noise"}],"name":"param0","type":"linked_control"},{"label":"Scale X","linked_widgets":[{"node":"fbm_3","widget":"scale_x"},{"node":"fbm_4","widget":"scale_x"},{"node":"fbm_5","widget":"scale_x"},{"node":"fbm_2","widget":"scale_x"}],"name":"param1","type":"linked_control"},{"label":"Scale Y","linked_widgets":[{"node":"fbm_3","widget":"scale_y"},{"node":"fbm_4","widget":"scale_y"},{"node":"fbm_5","widget":"scale_y"},{"node":"fbm_2","widget":"scale_y"}],"name":"param2","type":"linked_control"},{"label":"Folds","linked_widgets":[{"node":"fbm_3","widget":"folds"},{"node":"fbm_4","widget":"folds"},{"node":"fbm_5","widget":"folds"},{"node":"fbm_2","widget":"folds"}],"name":"param3","type":"linked_control"},{"label":"Iterations","linked_widgets":[{"node":"fbm_3","widget":"iterations"},{"node":"fbm_4","widget":"iterations"},{"node":"fbm_5","widget":"iterations"},{"node":"fbm_2","widget":"iterations"}],"name":"param4","type":"linked_control"},{"label":"Persistence","linked_widgets":[{"node":"fbm_3","widget":"persistence"},{"node":"fbm_4","widget":"persistence"},{"node":"fbm_5","widget":"persistence"},{"node":"fbm_2","widget":"persistence"}],"name":"param5","type":"linked_control"}]},{"name":"fbm_2","type":"fbm","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":15,"persistence":0.62},"node_position":{"x":-495.298431,"y":1543.288208}},{"name":"combine_2","type":"combine","parameters":{},"node_position":{"x":292.968933,"y":1276.987427}}],"connections":[{"from":"combine","from_port":0,"to":"gen_outputs","to_port":0},{"from":"fbm_5","from_port":0,"to":"combine","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine","to_port":0},{"from":"fbm_2","from_port":0,"to":"combine_2","to_port":3},{"from":"fbm_5","from_port":0,"to":"combine_2","to_port":2},{"from":"fbm_4","from_port":0,"to":"combine_2","to_port":1},{"from":"fbm_3","from_port":0,"to":"combine_2","to_port":0},{"from":"combine_2","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"791_5","type":"shader","parameters":{"blend_type":7,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":0.5,"warp_strength":2},"node_position":{"x":-300,"y":340},"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"791_6","type":"shader","parameters":{"blend_type":8,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":-0.5,"warp_y":-0.5,"warp_strength":2},"node_position":{"x":-300,"y":560},"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n// vec2 $(name_uv)_mingle = vec2($mingle_strength*$mingle_u, $mingle_strength*$mingle_v);\n//float $(name_uv)_blend =  smoothstep(mingle_$mingle_mode($warp($uv),$(name_uv)_mingle ), 0.5);\nfloat $(name_uv)_blend = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgb"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2), $m_opacity*$(name_uv)_blend )","shortdesc":"Output","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle 1"}},{"name":"blend_2","type":"blend","parameters":{"blend_type":7,"amount":1},"node_position":{"x":1000,"y":420}},{"name":"791_7","type":"shader","parameters":{"blend_type":4,"m_opacity":1,"m_step":0.5,"m_smooth":0.5,"warp_x":0.5,"warp_y":-0.5,"warp_strength":2},"node_position":{"x":460,"y":420},"shader_model":{"code":"vec2 $(name_uv)_warp_1 = $uv + $warp_strength *  vec2($warp_x*$warp($uv).r,  -$warp_y*$warp($uv).g);\nvec2 $(name_uv)_warp_2 = $uv - $warp_strength *  vec2($warp_x*$warp($uv).g,  -$warp_y*$warp($uv).r);\n\nfloat $(name_uv)_blend_1 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\nfloat $(name_uv)_blend_2 = smoothstep($m_step-$m_smooth,  $m_step+$m_smooth,  $warp($uv).b);\n\n","global":"","includes":["blend"],"inputs":[{"default":"0.0","label":"","name":"in_1","shortdesc":"Input 1","type":"rgb"},{"default":"0.0","label":"","name":"in_2","shortdesc":"Input 2","type":"rgb"},{"default":"0.0","label":"","longdesc":"A Warp image combines UV warping and blending.\n\nR,G\t\t\nare mapped to a vector, which warps UV coords.\n\nB,A\t\t\nare used to blend both input images. How they are blended is controlled by a smoothstep, which could be adjust with \"Step\" and \"Smooth\".","name":"warp","shortdesc":"Warp","type":"rgba"}],"instance":"","longdesc":"Mingle node with one output.\nBasic node which could be used to create grunge images.\n\nMingle combines a warp operation and a blend operation. The blend operation is controlled by a step operation and an opacity value..","name":"Mingle Extended","outputs":[{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_1),  $in_2($(name_uv)_warp_2),  $m_opacity*$(name_uv)_blend_1 )","shortdesc":"Output","type":"rgb"},{"rgb":"blend_$blend_type( $uv,  $in_1($(name_uv)_warp_2),  $in_2($(name_uv)_warp_1),  $m_opacity*$(name_uv)_blend_2 )","type":"rgb"}],"parameters":[{"default":0,"label":"","longdesc":"Specify method how you like to warp input images.","name":"blend_type","shortdesc":"Blend Type","type":"enum","values":[{"name":"Normal","value":"normal"},{"name":"Dissolve","value":"dissolve"},{"name":"Multiply","value":"multiply"},{"name":"Screen","value":"screen"},{"name":"Overlay","value":"overlay"},{"name":"Hard Light","value":"hard_light"},{"name":"Soft Light","value":"soft_light"},{"name":"Burn","value":"burn"},{"name":"Dodge","value":"dodge"},{"name":"Lighten","value":"lighten"},{"name":"Darken","value":"darken"},{"name":"Difference","value":"difference"}]},{"control":"None","default":1,"label":"Opacity","longdesc":"The  amount of opacity used to blend input in_1 over in_2. \nDefaults to 1.","max":1,"min":0,"name":"m_opacity","shortdesc":"Opacity","step":0.1,"type":"float"},{"control":"None","default":0.5,"label":"Step","max":1,"min":0,"name":"m_step","shortdesc":"Mingle U","step":0,"type":"float"},{"control":"None","default":0.5,"label":"Smoothness","max":1,"min":0,"name":"m_smooth","shortdesc":"Mingle V","step":0,"type":"float"},{"control":"P1.x","default":0.5,"label":"Warp X","max":10,"min":0,"name":"warp_x","step":0.1,"type":"float"},{"control":"P1.y","default":0.5,"label":"Warp Y","max":10,"min":0,"name":"warp_y","step":0.1,"type":"float"},{"control":"None","default":1,"label":"Warp Strength","max":1,"min":0,"name":"warp_strength","step":0.1,"type":"float"}],"shortdesc":"Mingle Extended"}},{"name":"comment","type":"comment","parameters":{},"node_position":{"x":-1320,"y":-240},"title":"Noises","color":{"type":"Color","r":1,"g":0.5,"b":0,"a":1},"text":"","size":{"x":368.727295,"y":1045.166504}},{"name":"comment_2","type":"comment","parameters":{},"node_position":{"x":-340,"y":-240},"title":"Warp Layer 1","color":{"type":"Color","r":1,"g":0.5,"b":0,"a":1},"text":"","size":{"x":341.228088,"y":1036.673462}},{"name":"comment_3","type":"comment","parameters":{},"node_position":{"x":420,"y":-240},"title":"Warp Layer 2","color":{"type":"Color","r":1,"g":0.5,"b":0,"a":1},"text":"","size":{"x":334.144196,"y":1038.109619}},{"name":"tones_step","type":"tones_step","parameters":{"value":0.5,"width":0.46,"invert":false},"node_position":{"x":1000,"y":100}},{"name":"tones_step_2","type":"tones_step","parameters":{"value":0.5,"width":0.46,"invert":false},"node_position":{"x":1000,"y":560}},{"name":"tones_step_3","type":"tones_step","parameters":{"value":0.5,"width":0.46,"invert":false},"node_position":{"x":1300,"y":-40}},{"name":"tones_step_4","type":"tones_step","parameters":{"value":0.5,"width":0.46,"invert":false},"node_position":{"x":1300,"y":420}}],"connections":[{"from":"fbm_2","from_port":0,"to":"791_2","to_port":0},{"from":"fbm","from_port":0,"to":"791_2","to_port":1},{"from":"fbm_2","from_port":0,"to":"791_3","to_port":1},{"from":"fbm","from_port":0,"to":"791_3","to_port":0},{"from":"graph_2","from_port":0,"to":"791_3","to_port":2},{"from":"791_2","from_port":0,"to":"791_4","to_port":0},{"from":"791_3","from_port":0,"to":"791_4","to_port":1},{"from":"graph_2","from_port":1,"to":"791_4","to_port":2},{"from":"791_4","from_port":0,"to":"blend","to_port":0},{"from":"791_4","from_port":1,"to":"blend","to_port":1},{"from":"791_5","from_port":0,"to":"791_7","to_port":0},{"from":"791_6","from_port":0,"to":"791_7","to_port":1},{"from":"791_7","from_port":0,"to":"blend_2","to_port":0},{"from":"791_7","from_port":1,"to":"blend_2","to_port":1},{"from":"graph_2","from_port":0,"to":"791_5","to_port":0},{"from":"graph_3","from_port":0,"to":"791_5","to_port":1},{"from":"graph_4","from_port":0,"to":"791_5","to_port":2},{"from":"graph_3","from_port":0,"to":"791_6","to_port":0},{"from":"graph_3","from_port":0,"to":"791_2","to_port":2},{"from":"graph_2","from_port":0,"to":"791_6","to_port":2},{"from":"graph_4","from_port":0,"to":"791_6","to_port":1},{"from":"graph_4","from_port":1,"to":"791_7","to_port":2},{"from":"fbm_2","from_port":0,"to":"tones_step","to_port":0},{"from":"fbm","from_port":0,"to":"tones_step_2","to_port":0},{"from":"tones_step_2","from_port":0,"to":"blend_2","to_port":2},{"from":"tones_step","from_port":0,"to":"blend","to_port":2},{"from":"blend_2","from_port":0,"to":"tones_step_4","to_port":0},{"from":"blend","from_port":0,"to":"tones_step_3","to_port":0},{"from":"tones_step_3","from_port":0,"to":"gen_outputs","to_port":0},{"from":"tones_step_4","from_port":0,"to":"gen_outputs","to_port":1}]},{"name":"transform2","type":"transform2","parameters":{"translate_x":0.79,"translate_y":1,"rotate":0,"scale_x":1,"scale_y":1,"mode":1},"node_position":{"x":2503.05127,"y":-676.478455}},{"name":"custom_uv","type":"custom_uv","parameters":{"inputs":0,"sx":1,"sy":1,"rotate":0,"scale":0},"node_position":{"x":-439.246307,"y":261.001984}},{"name":"custom_uv_2","type":"custom_uv","parameters":{"inputs":0,"sx":1,"sy":1,"rotate":0,"scale":0},"node_position":{"x":-442.214172,"y":424.507507}},{"name":"rotate","type":"rotate","parameters":{"cx":0,"cy":0,"rotate":90},"node_position":{"x":-25.213013,"y":819.655029}},{"name":"blend_8","type":"blend","parameters":{"blend_type":0,"amount":0.5},"node_position":{"x":3030.763428,"y":-516.812805}},{"name":"blend","type":"blend","parameters":{"blend_type":4,"amount":0.7},"node_position":{"x":2648.669678,"y":-225.458755}},{"name":"slope_blur_2","type":"graph","parameters":{"param0":10,"param1":1,"param2":16,"param3":0},"node_position":{"x":197.068634,"y":-380.695435},"label":"Multi Warp","shortdesc":"Slope blur","longdesc":"Applys a blur effect on its input, following slopes of an input height map","nodes":[{"name":"buffer","type":"buffer","parameters":{"size":10,"lod":0},"node_position":{"x":-395.25,"y":-274.75}},{"name":"gen_parameters","type":"remote","parameters":{"param0":10,"param1":1,"param2":16,"param3":0},"node_position":{"x":-529.666626,"y":-505.666656},"widgets":[{"label":"Grid size:","linked_widgets":[{"node":"buffer","widget":"size"},{"node":"buffer_2","widget":"size"},{"node":"edge_detect_3_3_3","widget":"size"}],"longdesc":"The resolution of the input image","name":"param0","shortdesc":"Size","type":"linked_control"},{"label":"Inensity","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"intensity"}],"name":"param1","type":"linked_control"},{"label":"Quality","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"quality"}],"name":"param2","type":"linked_control"},{"label":"Mode","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"mode"}],"name":"param3","type":"linked_control"}]},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-872.666626,"y":-243.392853},"seed_value":91624,"ports":[{"group_size":0,"longdesc":"The input image","name":"in","shortdesc":"Input","type":"rgba"},{"group_size":0,"longdesc":"A height map whose slopes control the strength and direction of the blur filter","name":"heightmap","shortdesc":"Height map","type":"f"}]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":-45.452393,"y":-195.392853},"ports":[{"group_size":0,"longdesc":"Shows the generated blurred image","name":"port0","shortdesc":"Output","type":"rgba"}]},{"name":"buffer_2","type":"buffer","parameters":{"size":10,"lod":0},"node_position":{"x":-29.952209,"y":-13.576294}},{"name":"edge_detect_3_3_3","type":"shader","parameters":{"size":10,"intensity":1,"quality":16,"mode":0},"node_position":{"x":-293.368896,"y":61.173706},"seed_value":-47470,"shader_model":{"code":"","global":"","inputs":[{"default":"vec4(1.0)","function":true,"label":"","name":"in","type":"rgb"},{"default":"1.0","function":true,"label":"","name":"heightmap","type":"f"}],"instance":"vec3 $(name)_fct(vec2 uv) {\n\tfloat dx = 1.0/$size;\n    float v = 0.0;\n\tvec2 slope = vec2(0.0);\n\tint iterations = int(ceil($intensity * $quality));\n\tvec2 it_uv = uv;\n\tvec3 pt_value = $in(uv);\n\tvec3 rv = vec3(0.0);\n\tfor(int i = 0;i<iterations;i++){\n\t\tv = $heightmap(it_uv);\n\t\tslope = vec2($heightmap(it_uv+vec2(dx, 0.0))-v, $heightmap(it_uv+vec2(0.0, dx))-v) * 2.0;\n\t\tit_uv += slope * $intensity * $intensity / float(iterations);\n\t\trv += $mode;\n\t}\n\treturn rv/float(iterations);\n}","name":"Multi Warp","outputs":[{"rgb":"$(name)_fct($uv)","type":"rgb"}],"parameters":[{"default":9,"first":4,"label":"Size","last":12,"name":"size","type":"size"},{"control":"None","default":0.5,"label":"Intensity","max":1,"min":0,"name":"intensity","step":0.001,"type":"float"},{"control":"None","default":50,"label":"Quality","max":50,"min":1,"name":"quality","step":1,"type":"float"},{"default":2,"label":"Mode","name":"mode","type":"enum","values":[{"name":"Min","value":"min($in(it_uv), pt_value)"},{"name":"Blur","value":"$in(it_uv)"},{"name":"Max","value":"max($in(it_uv), pt_value)"}]}]}}],"connections":[{"from":"gen_inputs","from_port":0,"to":"buffer","to_port":0},{"from":"buffer_2","from_port":0,"to":"gen_outputs","to_port":0},{"from":"buffer","from_port":0,"to":"edge_detect_3_3_3","to_port":0},{"from":"gen_inputs","from_port":1,"to":"edge_detect_3_3_3","to_port":1},{"from":"edge_detect_3_3_3","from_port":0,"to":"buffer_2","to_port":0}]},{"name":"fbm2","type":"fbm2","parameters":{"noise":1,"scale_x":3,"scale_y":3,"folds":0,"iterations":4,"persistence":0.5},"node_position":{"x":-718.256104,"y":-552.876709}},{"name":"transform2_3","type":"transform2","parameters":{"translate_x":0.35,"translate_y":0.35,"rotate":0,"scale_x":1,"scale_y":1,"mode":1},"node_position":{"x":-349.732635,"y":-561.418396}},{"name":"fbm2_4","type":"fbm2","parameters":{"noise":0,"scale_x":3,"scale_y":3,"folds":0,"iterations":6,"persistence":0.5},"node_position":{"x":-745.932495,"y":1087.304688}},{"name":"scale","type":"scale","parameters":{"cx":0,"cy":0,"scale_x":0.5,"scale_y":0.5},"node_position":{"x":-334.851196,"y":1107.562012}},{"name":"fbm2_2","type":"fbm2","parameters":{"noise":1,"scale_x":4,"scale_y":4,"folds":0,"iterations":5,"persistence":0.5},"node_position":{"x":-839.598999,"y":1313.145386}},{"name":"blend_9","type":"blend","parameters":{"blend_type":3,"amount":1},"node_position":{"x":-500.139893,"y":1354.499634}},{"name":"gradient_3","type":"gradient","parameters":{"repeat":1,"rotate":0,"gradient":{"type":"Gradient","points":[{"pos":0,"r":0,"g":0,"b":0,"a":1},{"pos":1,"r":1,"g":1,"b":1,"a":1}],"interpolation":1}},"node_position":{"x":-753.266418,"y":518.372131}},{"name":"slope_blur_3","type":"graph","parameters":{"param0":10,"param1":1,"param2":16,"param3":0},"node_position":{"x":-453.906128,"y":931.462708},"label":"Multi Warp","shortdesc":"Slope blur","longdesc":"Applys a blur effect on its input, following slopes of an input height map","nodes":[{"name":"buffer","type":"buffer","parameters":{"size":10,"lod":0},"node_position":{"x":-395.25,"y":-274.75}},{"name":"gen_parameters","type":"remote","parameters":{"param0":10,"param1":1,"param2":16,"param3":0},"node_position":{"x":-529.666626,"y":-505.666656},"widgets":[{"label":"Grid size:","linked_widgets":[{"node":"buffer","widget":"size"},{"node":"buffer_2","widget":"size"},{"node":"edge_detect_3_3_3","widget":"size"}],"longdesc":"The resolution of the input image","name":"param0","shortdesc":"Size","type":"linked_control"},{"label":"Inensity","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"intensity"}],"name":"param1","type":"linked_control"},{"label":"Quality","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"quality"}],"name":"param2","type":"linked_control"},{"label":"Mode","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"mode"}],"name":"param3","type":"linked_control"}]},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-872.666626,"y":-243.392853},"seed_value":91624,"ports":[{"group_size":0,"longdesc":"The input image","name":"in","shortdesc":"Input","type":"rgba"},{"group_size":0,"longdesc":"A height map whose slopes control the strength and direction of the blur filter","name":"heightmap","shortdesc":"Height map","type":"f"}]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":-45.452393,"y":-195.392853},"ports":[{"group_size":0,"longdesc":"Shows the generated blurred image","name":"port0","shortdesc":"Output","type":"rgba"}]},{"name":"buffer_2","type":"buffer","parameters":{"size":10,"lod":0},"node_position":{"x":-29.952209,"y":-13.576294}},{"name":"edge_detect_3_3_3","type":"shader","parameters":{"size":10,"intensity":1,"quality":16,"mode":0},"node_position":{"x":-293.368896,"y":61.173706},"seed_value":-47470,"shader_model":{"code":"","global":"","inputs":[{"default":"vec4(1.0)","function":true,"label":"","name":"in","type":"rgb"},{"default":"1.0","function":true,"label":"","name":"heightmap","type":"f"}],"instance":"vec3 $(name)_fct(vec2 uv) {\n\tfloat dx = 1.0/$size;\n    float v = 0.0;\n\tvec2 slope = vec2(0.0);\n\tint iterations = int(ceil($intensity * $quality));\n\tvec2 it_uv = uv;\n\tvec3 pt_value = $in(uv);\n\tvec3 rv = vec3(0.0);\n\tfor(int i = 0;i<iterations;i++){\n\t\tv = $heightmap(it_uv);\n\t\tslope = vec2($heightmap(it_uv+vec2(dx, 0.0))-v, $heightmap(it_uv+vec2(0.0, dx))-v) * 2.0;\n\t\tit_uv += slope * $intensity * $intensity / float(iterations);\n\t\trv += $mode;\n\t}\n\treturn rv/float(iterations);\n}","name":"Multi Warp","outputs":[{"rgb":"$(name)_fct($uv)","type":"rgb"}],"parameters":[{"default":9,"first":4,"label":"Size","last":12,"name":"size","type":"size"},{"control":"None","default":0.5,"label":"Intensity","max":1,"min":0,"name":"intensity","step":0.001,"type":"float"},{"control":"None","default":50,"label":"Quality","max":50,"min":1,"name":"quality","step":1,"type":"float"},{"default":2,"label":"Mode","name":"mode","type":"enum","values":[{"name":"Min","value":"min($in(it_uv), pt_value)"},{"name":"Blur","value":"$in(it_uv)"},{"name":"Max","value":"max($in(it_uv), pt_value)"}]}]}}],"connections":[{"from":"gen_inputs","from_port":0,"to":"buffer","to_port":0},{"from":"buffer_2","from_port":0,"to":"gen_outputs","to_port":0},{"from":"buffer","from_port":0,"to":"edge_detect_3_3_3","to_port":0},{"from":"gen_inputs","from_port":1,"to":"edge_detect_3_3_3","to_port":1},{"from":"edge_detect_3_3_3","from_port":0,"to":"buffer_2","to_port":0}]},{"name":"custom_uv_3","type":"custom_uv","parameters":{"inputs":0,"sx":1.15,"sy":1,"rotate":180,"scale":0},"node_position":{"x":-426.202271,"y":598.170959}},{"name":"tones_step","type":"tones_step","parameters":{"value":0.6,"width":0.1,"invert":false},"node_position":{"x":692.13269,"y":149.584656}},{"name":"blend_10","type":"blend","parameters":{"blend_type":2,"amount":0.5},"node_position":{"x":930.164612,"y":-36.688507}},{"name":"buffer_2","type":"buffer","parameters":{"size":10},"node_position":{"x":1798.527954,"y":-69.325882},"version":1},{"name":"slope_blur_4","type":"graph","parameters":{"param0":10,"param1":0.6,"param2":16,"param3":0},"node_position":{"x":1243.391235,"y":45.854195},"label":"Multi Warp","shortdesc":"Slope blur","longdesc":"Applys a blur effect on its input, following slopes of an input height map","nodes":[{"name":"buffer","type":"buffer","parameters":{"size":10,"lod":0},"node_position":{"x":-395.25,"y":-274.75}},{"name":"gen_parameters","type":"remote","parameters":{"param0":10,"param1":0.6,"param2":16,"param3":0},"node_position":{"x":-529.666626,"y":-505.666656},"widgets":[{"label":"Grid size:","linked_widgets":[{"node":"buffer","widget":"size"},{"node":"buffer_2","widget":"size"},{"node":"edge_detect_3_3_3","widget":"size"}],"longdesc":"The resolution of the input image","name":"param0","shortdesc":"Size","type":"linked_control"},{"label":"Inensity","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"intensity"}],"name":"param1","type":"linked_control"},{"label":"Quality","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"quality"}],"name":"param2","type":"linked_control"},{"label":"Mode","linked_widgets":[{"node":"edge_detect_3_3_3","widget":"mode"}],"name":"param3","type":"linked_control"}]},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-872.666626,"y":-243.392853},"seed_value":91624,"ports":[{"group_size":0,"longdesc":"The input image","name":"in","shortdesc":"Input","type":"rgba"},{"group_size":0,"longdesc":"A height map whose slopes control the strength and direction of the blur filter","name":"heightmap","shortdesc":"Height map","type":"f"}]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":-45.452393,"y":-195.392853},"ports":[{"group_size":0,"longdesc":"Shows the generated blurred image","name":"port0","shortdesc":"Output","type":"rgba"}]},{"name":"buffer_2","type":"buffer","parameters":{"size":10,"lod":0},"node_position":{"x":-29.952209,"y":-13.576294}},{"name":"edge_detect_3_3_3","type":"shader","parameters":{"size":10,"intensity":0.6,"quality":16,"mode":0},"node_position":{"x":-293.368896,"y":61.173706},"seed_value":-47470,"shader_model":{"code":"","global":"","inputs":[{"default":"vec4(1.0)","function":true,"label":"","name":"in","type":"rgb"},{"default":"1.0","function":true,"label":"","name":"heightmap","type":"f"}],"instance":"vec3 $(name)_fct(vec2 uv) {\n\tfloat dx = 1.0/$size;\n    float v = 0.0;\n\tvec2 slope = vec2(0.0);\n\tint iterations = int(ceil($intensity * $quality));\n\tvec2 it_uv = uv;\n\tvec3 pt_value = $in(uv);\n\tvec3 rv = vec3(0.0);\n\tfor(int i = 0;i<iterations;i++){\n\t\tv = $heightmap(it_uv);\n\t\tslope = vec2($heightmap(it_uv+vec2(dx, 0.0))-v, $heightmap(it_uv+vec2(0.0, dx))-v) * 2.0;\n\t\tit_uv += slope * $intensity * $intensity / float(iterations);\n\t\trv += $mode;\n\t}\n\treturn rv/float(iterations);\n}","name":"Multi Warp","outputs":[{"rgb":"$(name)_fct($uv)","type":"rgb"}],"parameters":[{"default":9,"first":4,"label":"Size","last":12,"name":"size","type":"size"},{"control":"None","default":0.5,"label":"Intensity","max":1,"min":0,"name":"intensity","step":0.001,"type":"float"},{"control":"None","default":50,"label":"Quality","max":50,"min":1,"name":"quality","step":1,"type":"float"},{"default":2,"label":"Mode","name":"mode","type":"enum","values":[{"name":"Min","value":"min($in(it_uv), pt_value)"},{"name":"Blur","value":"$in(it_uv)"},{"name":"Max","value":"max($in(it_uv), pt_value)"}]}]}}],"connections":[{"from":"gen_inputs","from_port":0,"to":"buffer","to_port":0},{"from":"buffer_2","from_port":0,"to":"gen_outputs","to_port":0},{"from":"buffer","from_port":0,"to":"edge_detect_3_3_3","to_port":0},{"from":"gen_inputs","from_port":1,"to":"edge_detect_3_3_3","to_port":1},{"from":"edge_detect_3_3_3","from_port":0,"to":"buffer_2","to_port":0}]},{"name":"fbm2_5","type":"fbm2","parameters":{"noise":2,"scale_x":4,"scale_y":4,"folds":0,"iterations":5,"persistence":0.5},"node_position":{"x":974.294922,"y":132.012238}},{"name":"blend_11","type":"blend","parameters":{"blend_type":10,"amount":1},"node_position":{"x":1531.371582,"y":63.557911}},{"name":"fbm2_6","type":"fbm2","parameters":{"noise":0,"scale_x":16,"scale_y":16,"folds":0,"iterations":4,"persistence":0.5},"node_position":{"x":1111.203613,"y":332.654266}},{"name":"tones_2","type":"tones","parameters":{"in_min":{"type":"Color","r":0.501605,"g":0.501605,"b":0.501605,"a":0},"in_mid":{"type":"Color","r":0.69179,"g":0.69179,"b":0.69179,"a":0.5},"in_max":{"type":"Color","r":0.800833,"g":0.800833,"b":0.800833,"a":1},"out_min":{"type":"Color","r":0,"g":0,"b":0,"a":0},"out_max":{"type":"Color","r":1,"g":1,"b":1,"a":1}},"node_position":{"x":1394.462891,"y":280.723389}},{"name":"blend_2","type":"blend","parameters":{"blend_type":2,"amount":0.2},"node_position":{"x":-827.419495,"y":-54.248947}},{"name":"colorize","type":"colorize","parameters":{"gradient":{"type":"Gradient","points":[{"pos":0,"r":0.238281,"g":0.159164,"b":0.159164,"a":1},{"pos":0.503322,"r":0.5,"g":0.5,"b":0.5,"a":1},{"pos":1,"r":0.964844,"g":0.654791,"b":0.354279,"a":1}],"interpolation":1}},"node_position":{"x":2336.319092,"y":-259.997406}},{"name":"colorize_2","type":"colorize","parameters":{"gradient":{"type":"Gradient","points":[{"pos":0,"r":0.4375,"g":0.271608,"b":0.138428,"a":1},{"pos":1,"r":0.378906,"g":0.239222,"b":0.155411,"a":1}],"interpolation":1}},"node_position":{"x":2154.196045,"y":-159.562576}},{"name":"gen_inputs","type":"ios","parameters":{},"node_position":{"x":-1981.400024,"y":141.419556},"ports":[]},{"name":"gen_outputs","type":"ios","parameters":{},"node_position":{"x":3330.763428,"y":141.419556},"ports":[{"group_size":0,"name":"port0","type":"rgb"},{"group_size":0,"name":"port1","type":"rgba"},{"group_size":0,"name":"port2","type":"rgba"},{"group_size":0,"name":"port3","type":"rgba"},{"group_size":0,"name":"port4","type":"rgba"}]},{"name":"gen_parameters","type":"remote","parameters":{"param0":10,"param1":{"type":"Gradient","points":[{"pos":0,"r":0.4375,"g":0.271608,"b":0.138428,"a":1},{"pos":1,"r":0.378906,"g":0.239222,"b":0.155411,"a":1}],"interpolation":1},"param2":{"type":"Gradient","points":[{"pos":0,"r":0.238281,"g":0.159164,"b":0.159164,"a":1},{"pos":0.503322,"r":0.5,"g":0.5,"b":0.5,"a":1},{"pos":1,"r":0.964844,"g":0.654791,"b":0.354279,"a":1}],"interpolation":1},"param3":4,"param4":2},"node_position":{"x":553.171753,"y":-1157.760376},"widgets":[{"label":"Resolution","linked_widgets":[{"node":"normal_map","widget":"param0"},{"node":"graph_6","widget":"param0"},{"node":"buffer_2","widget":"size"},{"node":"smooth_curvature","widget":"param0"},{"node":"buffer_3","widget":"size"},{"node":"slope_blur_2","widget":"param0"},{"node":"slope_blur_3","widget":"param0"}],"name":"param0","shortdesc":"Resolution","type":"linked_control"},{"label":"Color","linked_widgets":[{"node":"colorize_2","widget":"gradient"}],"name":"param1","shortdesc":"Color","type":"linked_control"},{"label":"Curvature color","linked_widgets":[{"node":"colorize","widget":"gradient"}],"name":"param2","shortdesc":"Curvature color","type":"linked_control"},{"label":"Thickness","linked_widgets":[{"node":"bricks","widget":"rows"},{"node":"bricks","widget":"columns"}],"name":"param3","type":"linked_control"},{"label":"Size","linked_widgets":[{"node":"bricks","widget":"repeat"}],"name":"param4","type":"linked_control"}]}],"connections":[{"from":"buffer_2","from_port":0,"to":"smooth_curvature","to_port":0},{"from":"buffer_2","from_port":0,"to":"normal_map","to_port":0},{"from":"buffer_2","from_port":0,"to":"invert","to_port":0},{"from":"bricks","from_port":1,"to":"decompose","to_port":0},{"from":"decompose","from_port":0,"to":"blend_2","to_port":0},{"from":"bricks","from_port":0,"to":"blend_2","to_port":1},{"from":"smooth_curvature","from_port":0,"to":"colorize","to_port":0},{"from":"bricks","from_port":0,"to":"invert_3","to_port":0},{"from":"invert_3","from_port":0,"to":"dilate","to_port":0},{"from":"blend_2","from_port":0,"to":"blend_3","to_port":1},{"from":"dilate","from_port":0,"to":"tonality","to_port":0},{"from":"tonality","from_port":0,"to":"gaussian_blur","to_port":0},{"from":"gaussian_blur","from_port":0,"to":"blend_3","to_port":0},{"from":"normal_map","from_port":0,"to":"gen_outputs","to_port":0},{"from":"invert","from_port":0,"to":"gen_outputs","to_port":1},{"from":"gaussian_blur_2","from_port":0,"to":"tones_step_5","to_port":0},{"from":"tones_step_5","from_port":0,"to":"transform2_2","to_port":0},{"from":"noise_anisotropic","from_port":0,"to":"rotate_2","to_port":0},{"from":"rotate_2","from_port":0,"to":"gaussian_blur_2","to_port":0},{"from":"fbm2_3","from_port":0,"to":"transform2_2","to_port":1},{"from":"fbm2_4","from_port":0,"to":"slope_blur_3","to_port":1},{"from":"transform2_2","from_port":0,"to":"slope_blur_3","to_port":0},{"from":"blend_4","from_port":0,"to":"blend_5","to_port":1},{"from":"rotate","from_port":0,"to":"blend_5","to_port":0},{"from":"invert_4","from_port":0,"to":"blend_4","to_port":2},{"from":"bricks","from_port":6,"to":"blend_5","to_port":2},{"from":"colorize","from_port":0,"to":"blend","to_port":0},{"from":"blend","from_port":0,"to":"gen_outputs","to_port":2},{"from":"decompose","from_port":1,"to":"colorize_2","to_port":0},{"from":"colorize_2","from_port":0,"to":"blend","to_port":1},{"from":"blend_5","from_port":0,"to":"blend_6","to_port":1},{"from":"custom_uv","from_port":0,"to":"blend_6","to_port":0},{"from":"gradient_2","from_port":0,"to":"custom_uv_2","to_port":0},{"from":"gradient","from_port":0,"to":"custom_uv","to_port":0},{"from":"custom_uv_2","from_port":0,"to":"blend_7","to_port":0},{"from":"bricks","from_port":6,"to":"blend_6","to_port":2},{"from":"invert_4","from_port":0,"to":"blend_7","to_port":2},{"from":"bricks","from_port":6,"to":"invert_4","to_port":0},{"from":"bricks","from_port":4,"to":"custom_uv","to_port":1},{"from":"bricks","from_port":4,"to":"custom_uv_2","to_port":1},{"from":"scale","from_port":0,"to":"rotate","to_port":0},{"from":"scale","from_port":0,"to":"blend_4","to_port":0},{"from":"buffer_2","from_port":0,"to":"graph_6","to_port":0},{"from":"graph_6","from_port":0,"to":"gen_outputs","to_port":3},{"from":"bricks","from_port":1,"to":"transform2","to_port":2},{"from":"bricks","from_port":1,"to":"transform2","to_port":1},{"from":"graph","from_port":0,"to":"buffer_3","to_port":0},{"from":"buffer_3","from_port":0,"to":"transform2","to_port":0},{"from":"transform2","from_port":0,"to":"tones","to_port":0},{"from":"smooth_curvature","from_port":0,"to":"invert_5","to_port":0},{"from":"tones","from_port":0,"to":"blend_8","to_port":1},{"from":"invert_5","from_port":0,"to":"blend_8","to_port":0},{"from":"blend_8","from_port":0,"to":"gen_outputs","to_port":4},{"from":"slope_blur_3","from_port":0,"to":"blend_9","to_port":1},{"from":"fbm2_2","from_port":0,"to":"blend_9","to_port":0},{"from":"fbm2","from_port":0,"to":"transform2_3","to_port":0},{"from":"bricks","from_port":1,"to":"transform2_3","to_port":1},{"from":"bricks","from_port":1,"to":"transform2_3","to_port":2},{"from":"transform2_3","from_port":0,"to":"slope_blur_2","to_port":1},{"from":"blend_9","from_port":0,"to":"scale","to_port":0},{"from":"bricks","from_port":4,"to":"custom_uv_3","to_port":1},{"from":"gradient_3","from_port":0,"to":"custom_uv_3","to_port":0},{"from":"custom_uv_3","from_port":0,"to":"blend_10","to_port":0},{"from":"blend_7","from_port":0,"to":"blend_10","to_port":1},{"from":"decompose","from_port":2,"to":"tones_step","to_port":0},{"from":"tones_step","from_port":0,"to":"blend_10","to_port":2},{"from":"blend_10","from_port":0,"to":"slope_blur_4","to_port":0},{"from":"fbm2_5","from_port":0,"to":"slope_blur_4","to_port":1},{"from":"fbm2_6","from_port":0,"to":"tones_2","to_port":0},{"from":"blend_10","from_port":0,"to":"blend_11","to_port":1},{"from":"slope_blur_4","from_port":0,"to":"blend_11","to_port":0},{"from":"blend_11","from_port":0,"to":"buffer_2","to_port":0},{"from":"tones_2","from_port":0,"to":"blend_11","to_port":2},{"from":"slope_blur_2","from_port":0,"to":"blend_4","to_port":1},{"from":"blend_3","from_port":0,"to":"slope_blur_2","to_port":0},{"from":"blend_6","from_port":0,"to":"blend_7","to_port":1}]}],"connections":[{"from":"graph_2","from_port":0,"to":"Material","to_port":4},{"from":"graph_2","from_port":1,"to":"Material","to_port":6},{"from":"graph_2","from_port":3,"to":"Material","to_port":5},{"from":"graph_2","from_port":4,"to":"Material","to_port":2},{"from":"graph_2","from_port":2,"to":"Material","to_port":0}]}